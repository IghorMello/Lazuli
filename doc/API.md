<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [clear_cache_localget](#clear_cache_localget)
-   [clear_cache_remoteget](#clear_cache_remoteget)
-   [localget](#localget)
-   [localget_json](#localget_json)
-   [remoteget](#remoteget)
-   [remoteget_json](#remoteget_json)
-   [load_css_file](#load_css_file)
-   [load_css_code](#load_css_code)
-   [get_progress_on_enabled_goals_this_week](#get_progress_on_enabled_goals_this_week)
-   [list_enabled_goals](#list_enabled_goals)
-   [get_enabled_goals](#get_enabled_goals)
-   [list_all_goals](#list_all_goals)
-   [get_goal_info](#get_goal_info)
-   [get_goals](#get_goals)
-   [get_positive_enabled_goals](#get_positive_enabled_goals)
-   [get_positive_enabled_uncompleted_goals](#get_positive_enabled_uncompleted_goals)
-   [get_random_positive_goal](#get_random_positive_goal)
-   [get_random_uncompleted_positive_goal](#get_random_uncompleted_positive_goal)
-   [get_goal_target](#get_goal_target)
-   [thompsonsampling](#thompsonsampling)
-   [novelty](#novelty)
-   [thompson_novelty](#thompson_novelty)
-   [list_enabled_interventions](#list_enabled_interventions)
-   [get_enabled_interventions](#get_enabled_interventions)
-   [list_custom_interventions](#list_custom_interventions)
-   [list_all_interventions](#list_all_interventions)
-   [get_intervention_info](#get_intervention_info)
-   [get_interventions](#get_interventions)
-   [get_number_sessions_for_each_intervention](#get_number_sessions_for_each_intervention)
-   [get_time_since_intervention](#get_time_since_intervention)
-   [get_novelty](#get_novelty)
-   [ThompsonMAB](#thompsonmab)
-   [train_multi_armed_bandit_for_goal](#train_multi_armed_bandit_for_goal)
-   [get_goal_name](#get_goal_name)
-   [get_seconds_spent_on_current_domain_today](#get_seconds_spent_on_current_domain_today)
-   [get_visits_to_domain_today](#get_visits_to_domain_today)
-   [get_visits_to_current_domain_today](#get_visits_to_current_domain_today)
-   [get_seconds_spent_on_current_domain_in_current_session](#get_seconds_spent_on_current_domain_in_current_session)
-   [printable_time_spent_long](#printable_time_spent_long)
-   [get_news_feed](#get_news_feed)
-   [inject_into_feed](#inject_into_feed)
-   [getUrlParameters](#geturlparameters)
-   [once_available](#once_available)
-   [once_available_fast](#once_available_fast)
-   [once_available_multiselect](#once_available_multiselect)
-   [once_body_available](#once_body_available)
-   [on_url_change](#on_url_change)
-   [on_url_change_not_from_history](#on_url_change_not_from_history)
-   [create_shadow_div](#create_shadow_div)
-   [wrap_in_shadow](#wrap_in_shadow)
-   [create_shadow_div_on_body](#create_shadow_div_on_body)
-   [append_to_body_shadow](#append_to_body_shadow)
-   [get_random_quote](#get_random_quote)
-   [learn](#learn)
-   [sample_times](#sample_times)
-   [normalize](#normalize)
-   [predict](#predict)
-   [displayName](#displayname)
-   [get_streak](#get_streak)
-   [close_selected_tab](#close_selected_tab)
-   [close_tab_with_id](#close_tab_with_id)
-   [open_url_in_new_tab](#open_url_in_new_tab)
-   [get_selected_tab_id](#get_selected_tab_id)
-   [start_episode_tracker](#start_episode_tracker)
-   [stop_episode_tracker](#stop_episode_tracker)
-   [get_num_episodes_watched](#get_num_episodes_watched)
-   [make_notification](#make_notification)
-   [notification_onclick](#notification_onclick)
-   [close_notification](#close_notification)
-   [show_toast](#show_toast)
-   [is_video_playing](#is_video_playing)
-   [GoalInfo](#goalinfo)
-   [GoalName](#goalname)
-   [GoalProgressInfo](#goalprogressinfo)
-   [InterventionInfo](#interventioninfo)
-   [InterventionName](#interventionname)

## clear_cache_localget

Clears the cache used by [localget](#localget) and [localget_json](#localget_json)

## clear_cache_remoteget

Clears the cache used by [remoteget](#remoteget) and [remoteget_json](#remoteget_json)

## localget

Fetches a local URL and returns the content as text. This is for data that is local to the extension, ie chrome-extension URLs - for remote HTTP/HTTPS URLs, use [remoteget](#remoteget) instead. Result is cached - if you need to clear the cache, use [clear_cache_localget](#clear_cache_localget).

**Parameters**

-   `url` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The URL that we should fetch

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)>** Content of the remote URL, as text

## localget_json

Fetches a local URL and returns the content as JSON. This is for data that is local to the extension, ie chrome-extension URLs - for remote HTTP/HTTPS URLs, use [remoteget_json](#remoteget_json) instead. Result is cached - if you need to clear the cache, use [clear_cache_localget](#clear_cache_localget).

**Parameters**

-   `url` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The URL that we should fetch

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;([Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object) \| [Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array))>** Content of the remote URL, as parsed JSON (either an Object or Array)

## remoteget

Fetches a remote URL and returns the content as text. This is for external HTTP/HTTPS URLs - for data that is local to the extension, use [localget](#localget) instead. Result is cached - if you need to clear the cache, use [clear_cache_remoteget](#clear_cache_remoteget).

**Parameters**

-   `url` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The URL that we should fetch

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)>** Content of the remote URL, as text

## remoteget_json

Fetches a remote URL and returns the content as parsed JSON. This is for external HTTP/HTTPS URLs - for data that is local to the extension, use [localget_json](#localget_json) instead. Result is cached - if you need to clear the cache, use [clear_cache_remoteget](#clear_cache_remoteget).

**Parameters**

-   `url` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The URL that we should fetch

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;([Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object) \| [Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array))>** Content of the remote URL, as parsed JSON (either an Object or Array)

## load_css_file

Loads a css file

**Parameters**

-   `filename` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** name of css package or path to css file

## load_css_code

Loads some css code

**Parameters**

-   `css_code` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** the css code to load

## get_progress_on_enabled_goals_this_week

Gets the goal progress info on each enabled goal this week.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)&lt;[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String), [Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[GoalProgressInfo](#goalprogressinfo)>>>** Object mapping goal names to an array of goal progress info objects, one for each of the past 7 days (index 0=today, 1=yesterday, etc)

## list_enabled_goals

Returns a list of names of enabled goals

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[GoalName](#goalname)>>** List of enabled goal names

## get_enabled_goals

Returns a object with with names of enabled goals as keys, and whether they are enabled as values

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)&lt;[GoalName](#goalname), [boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)>>** Object with enabled goals as keys

## list_all_goals

Lists names of all available goals

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[GoalName](#goalname)>>** List of goal names.

## get_goal_info

Gets the goal info for the specified goal name

**Parameters**

-   `goal_name` **[GoalName](#goalname)** The name of the goal

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[GoalInfo](#goalinfo)>** The goal info

## get_goals

Gets the goal info for all goals, in the form of an object mapping goal names to goal info

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)&lt;[GoalName](#goalname), [GoalInfo](#goalinfo)>>** Object mapping goal names to goal info

## get_positive_enabled_goals

Gets the goal info for all goals where is_positive set to true, in the form of an object mapping goal names to goal info

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)&lt;[GoalName](#goalname), [GoalInfo](#goalinfo)>>** Object mapping goal names to goal info

## get_positive_enabled_uncompleted_goals

Gets the goal info for all goals where is_positive set to true and that have not yet been completed

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)&lt;[GoalName](#goalname), [GoalInfo](#goalinfo)>>** Object mapping goal names to goal info

## get_random_positive_goal

Gets the goal info for a random enabled positive goal

Returns **[GoalInfo](#goalinfo)** The goal info

## get_random_uncompleted_positive_goal

Gets the goal info for a random enabled uncompleted positive goal

Returns **[GoalInfo](#goalinfo)** The goal info

## get_goal_target

Gets the target time spent in seconds for the specified goal

**Parameters**

-   `goal_name` **[GoalName](#goalname)** The name of the goal

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)>** The target in seconds

## thompsonsampling

This selection algorithm recommends an intervention for each goal using the Thompson Sampling Algorithm.

Returns **any** List of intervention names (strings), one intervention for each user goal.

## novelty

This selection algorithm ranks the interventions from lowest to highest novelty, prioritizing 
the least recently seen interventions over the most recently seen interventions.

Returns **any** List of intervention names (strings), one intervention for each user goal.

## thompson_novelty

Generates thompson-novely combo algorithm given weight (% of reward that should be from sampling)
Precondition: @param weight must be between 0 and 1, inclusive.

## list_enabled_interventions

Returns a list of names of enabled interventions

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[InterventionName](#interventionname)>>** List of enabled intervention names

## get_enabled_interventions

Returns a object with with names of enabled interventions as keys, and whether they are enabled as values

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)&lt;[InterventionName](#interventionname), [boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)>>** Object with enabled interventions as keys

## list_custom_interventions

Returns a list of names of custom interventions

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[InterventionName](#interventionname)>>** List of names of custom interventions

## list_all_interventions

Lists all available interventions

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[InterventionName](#interventionname)>>** The list of available interventions

## get_intervention_info

Gets the intervention info for the specified intervention name

**Parameters**

-   `intervention_name` **[InterventionName](#interventionname)** The name of the intervention

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[InterventionInfo](#interventioninfo)>** The intervention info

## get_interventions

Gets the intervention info for all interventions, in the form of an object mapping intervention names to intervention info

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)&lt;[InterventionName](#interventionname), [InterventionInfo](#interventioninfo)>>** Object mapping intervention names to intervention info

## get_number_sessions_for_each_intervention

Returns a dictionary with keys being the intervention, values being the number of sessions.
NOTE: These interventions are not necessarily enabled by the user.

## get_time_since_intervention

Gets the time in milliseconds since the intervention was most recently given.
If this intervention corresponds to a generic intervention, then we choose
the most recent intervention across the generic one. 
Returns -1 if the intervention has not been used yet.

## get_novelty

Currently, novelty is just the time since the intervention was last used.
TODO: Consider some other function of that time to better represent the novelty curve. [Currently assuming linear]

**Parameters**

-   `intervention_names`  list of strings

Returns **any** dictionary {&lt;intervention_name>: novelty}

## ThompsonMAB

This algorithm recommends interventions using the Generalized Thompson Sampling Algorithm.
This Thompson Sampling Algorithm draws inspiration from:
Daniel J. Russo, Benjamin Van Roy, Abbas Kazerouni, Ian
Osband and Zheng Wen (2018), “A Tutorial on Thompson Sampling”, Foundations and
Trends in Machine Learning: Vol. 11, No. 1, pp 1–96. DOI: 10.1561/2200000070.
This Thompson Sampling is designed solely for handling a multi-armbed-bandit problem with TIME observations.
Currently, we will train the algorithm with all previous sessions on each instance of the extension
TODO: Investigate whether this will cause a performance bottleneck and rewrite the algorithm to 
maintain the posterior and only train with one new instance each time.

## train_multi_armed_bandit_for_goal

Trains predictor for choosing which intervention to use given a goal using Thompson Sampling.
Each sample is the session length using an intervention.

**Parameters**

-   `sample_coefficient`  , novelty_coefficient: see ThompsonMAB

Returns **any** A predictor for which intervention to choose.

## get_goal_name

Gets the name of the current goal

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The current goal name

## get_seconds_spent_on_current_domain_today

Return seconds spent on current domain today

Returns **integer** seconds spent

## get_visits_to_domain_today

Return visits to the given domain today

**Parameters**

-   `the` **domain** doain

Returns **integer** seconds spent

## get_visits_to_current_domain_today

Return visits to the given domain today

Returns **integer** seconds spent

## get_seconds_spent_on_current_domain_in_current_session

Return seconds spent on current domain this session

Returns **integer** seconds spent

## printable_time_spent_long

Return time spent in hours, minutes, seconds format

**Parameters**

-   `seconds` **Integer** seconds spent

Returns **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

## get_news_feed

Inject an HTMLElement into facebook news feeds

## inject_into_feed

Inject an HTMLElement into facebook news feeds. 
Which spot it goes in the feed is calculated using position + n \* spacing for n >= 0.
Eg. if position = 4 and spacing = 8, it's injected as the 4th, 12th, and 20th post and so on.

**Parameters**

-   `component_generator` **[HTMLElement](https://developer.mozilla.org/docs/Web/HTML/Element)** the created div in the shadow dom
-   `position` **[HTMLElement](https://developer.mozilla.org/docs/Web/HTML/Element)** an optional parameter of where to insert it (default 4)
-   `position` **[HTMLElement](https://developer.mozilla.org/docs/Web/HTML/Element)** an optional parameter for how many posts to have between them (default 8)

## getUrlParameters

Gets an object containing the URL parameters. Ie, for a URL <http://www.example.com/path?foo=bar&baz=qux> will output {'foo': 'bar', 'baz': 'qux'}

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** An object with parameter names as keys, and parameter values as values

## once_available

Return an element once it's available (check every 0.1 seconds)

**Parameters**

-   `selector` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** of the element
-   `callback` **[function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** 

Returns **[HTMLElement](https://developer.mozilla.org/docs/Web/HTML/Element)** 

## once_available_fast

Return an element once it's available (check every 0.03 seconds)

**Parameters**

-   `selector` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** of the element
-   `callback` **[function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** 

Returns **[HTMLElement](https://developer.mozilla.org/docs/Web/HTML/Element)** 

## once_available_multiselect

Return multiple elements once they are available (check every 0.1 seconds)

**Parameters**

-   `selector` **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** of the elements
-   `callback` **[function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** 

Returns **[NodeList](https://developer.mozilla.org/docs/Web/API/NodeList)** the list of elements selected

## once_body_available

Return once body is available (check every 0.03 seconds)

**Parameters**

-   `callback` **[function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** 

## on_url_change

Execute a particular function when curren url changes

**Parameters**

-   `func` **[function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** function to get executed

## on_url_change_not_from_history

Execute a particular function when curren url changes

**Parameters**

-   `func` **[function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** function to get executed

## create_shadow_div

Creates a div in the shadow dom to protect the div styling from outside CSS

**Parameters**

-   `options`  css styling which should be applied to shadow div

Returns **any** the created shadow div

## wrap_in_shadow

Wraps the provided element in a div under the Shadow DOM

**Parameters**

-   `elem` **[HTMLElement](https://developer.mozilla.org/docs/Web/HTML/Element)** The element to add to the Shadow DOM
-   `options` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Options for the creation of the Shadow DOM wrapper element

Returns **[HTMLElement](https://developer.mozilla.org/docs/Web/HTML/Element)** The created div in the shadow dom

## create_shadow_div_on_body

Creates a div in the shadow dom to protect the div styling from outside CSS

**Parameters**

-   `options` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Options(CSS styling) for the creation of the Shadow DOM wrapper element

Returns **any** the created shadow div

## append_to_body_shadow

Wraps the provided element in a div under the Shadow DOM and appends it to the body of the document

**Parameters**

-   `elem` **[HTMLElement](https://developer.mozilla.org/docs/Web/HTML/Element)** The element to add to the Shadow DOM
-   `options` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Options for the creation of the Shadow DOM wrapper element

Returns **[HTMLElement](https://developer.mozilla.org/docs/Web/HTML/Element)** The created div in the shadow dom

## get_random_quote

Return a randomly selected quote from a set list of quotes

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Object containing three strings: text, source, and category

## learn

Learns this new observation and updates the posterior.

**Parameters**

-   `arm`  : name of intervention.
-   `observation`  : time spent with that intervention.

## sample_times

Returns **any** dictionary of {intervention_name: time}

## normalize

**Parameters**

-   `dictionary`  : {intervention_name: number}

Returns **any** normalized dictionary.

## predict

Based on our posterior parameters, recommend which intervention to choose to minimize time spent.

**Parameters**

-   `novelty`  : dictionary formatted like {&lt;intervention_name>: <novelty>} 
    where novelty is the time since that intervention was used. Optional.

Returns **any** : the name of the intervention we recommend.

## displayName

Instantiates Thompson Multi Armed Bandit with Prior Distribution Parameters.
Note, our observations are time, so we can assume that our observations are log-Gaussian distributed.
For each arm (intervention), we will have (mu, sigma) parameters.
We will choose our prior parameters to be $$\\mu_i=-1/2$$ and $$\\sigma_i^2=1$$ so $$E[\theta_i]=1$$
for each intervention $$i$$.
We will also assume that our sigma_tilde (Gaussian Noise) is 1. TODO: Investigate this assumption.

**Parameters**

-   `arms_list`  : a list of intervention names.
-   `sampling_factor`  : coefficient that represents degree to which the Thompson Sampling is considered
    relative to novelty factor. If higher than novelty factor, sampling factor is considered more.
-   `novelty_factor`  : coefficient that represents degree to which the novelty of an intervention
    is considered relative to the sampling_factor for recommending an intervention.

## get_streak

Returns the length  of the streak for the given goal

**Parameters**

-   `goal_info`  

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[Number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)>** length of streak

## close_selected_tab

Closes the selected tab

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[undefined](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined)>** No return value, promise resolves once tab is closed

## close_tab_with_id

Closes the tab with the specified tab id

**Parameters**

-   `tab_id` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** The id of the tab

## open_url_in_new_tab

Opens the specified URL in a new tab

**Parameters**

-   `url` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The URL we want to open in a new tab

## get_selected_tab_id

Gets the tab id for the selected tab

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)>** The id of the selected tab

## start_episode_tracker

If there's no running episode tracker, start one to track the number of episodes watched

## stop_episode_tracker

Stop running episode tracker

## get_num_episodes_watched

Return the number of episodes watched (must call start_episode_tracker first)

Returns **int** number of episodes wathced

## make_notification

Creates a notification and returns the notification id

**Parameters**

-   `info` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** info for creating the notification
    -   `info.title` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** title for the notification
    -   `info.icon` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** path to the icon for the notification
    -   `info.body` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** body of the notification message

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)>** notification id of the created notification

## notification_onclick

Adds a callback that should be called when the notification is clicked

**Parameters**

-   `notification_id` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** The notification id that the callback should be attached to
-   `callback` **[function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** Callback that will be called when the notification is clicked

## close_notification

Closes the notification with the specified id

**Parameters**

-   `notification_id` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Notification id of the notification to close

## show_toast

Show a toast on the webpage

**Parameters**

-   `options` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** a string of toast text or an object of toast properties
    -   `options.text` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** toast text
    -   `options.duration` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** duration of the toast
    -   `options.close_button` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** close button

Returns **[HTMLElement](https://developer.mozilla.org/docs/Web/HTML/Element)** The created toast

## is_video_playing

Returns true if the video is currently playing

Returns **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** True if the video is playing

## GoalInfo

An object that describes the goal info

Type: [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)

**Properties**

-   `name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the goal, ie facebook/spend_less_time
-   `domain` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Domain on which this goal operates, ie www.facebook.com
-   `sitename` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of site on which the goal operates, ie facebook
-   `sitename_printable` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Human-readable name of site on which the goal operates, ie Facebook
-   `description` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Human-readable description of the goal
-   `interventions` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[InterventionName](#interventionname)>** The list of interventions that satisfy this goal

## GoalName

The goal name, ie facebook/spend_less_time

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

## GoalProgressInfo

An object that describes progress made on a goal

Type: [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)

**Properties**

-   `message` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Human-readable measurement, ie 4 minutes
-   `progress` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Numeric value of progress, in the units described by the units field
-   `reward` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Numeric value for the reward function, between 0 to 1
-   `units` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Units that the value of progress is measured in - ie, minutes

## InterventionInfo

An object that describes the intervention info

Type: [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)

**Properties**

-   `name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the intervention, ie facebook/remove_comments
-   `sitename` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of site on which the intervention operates
-   `sitename_printable` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Human-readable name of site on which the intervention operates
-   `description` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Human-readable description of the intervention
-   `goals` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)>** List of goals this intervention satisfies

## InterventionName

The intervention name, ie facebook/remove_comments

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)
