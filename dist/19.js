window.lazuli_content_script = true;

(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"./src/components/call-to-action-button.deps.js":function(t,e,o){const{import_dom_modules:n}=o("./src/libs_frontend/dom_utils.ls");o("./src/bower_components/lazuli-paper-button/lazuli-paper-button.deps.js"),n(o("./src/components/call-to-action-button.html"),"components/call-to-action-button.html"),o("./src/components/call-to-action-button.js")},"./src/components/call-to-action-button.html":function(t,e){t.exports="<link rel=import href=../bower_components/lazuli-paper-button/lazuli-paper-button.html> <lazuli-dom-module id=call-to-action-button> <template> <style>:host{display:var(--call-to-action-button-display,inline-block);min-height:var(--call-to-action-button-min-height,38px);width:var(--call-to-action-button-width);margin:var(--call-to-action-button-margin,0 0 0 0)}.call-to-action-button{cursor:pointer;color:var(--call-to-action-button-color,#fff);background-color:var(--call-to-action-button-bg-color,#415d67);margin:0 auto;width:100%;height:100%;box-shadow:var(--call-to-action-button-shadow,2px 2px 2px #888)}</style> <lazuli-paper-button class=call-to-action-button on-click=buttonClicked> {{buttonText}} </lazuli-paper-button> </template> <script src=call-to-action-button.js><\/script> </lazuli-dom-module>"},"./src/components/call-to-action-button.js":function(t,e,o){const{polymer_ext:n}=o("./src/libs_frontend/polymer_utils.ls"),{log_action:_}=o("./src/libs_frontend/intervention_log_utils.ls"),{get_intervention:i,get_goal_info:s}=o("./src/libs_common/intervention_info.ls"),{close_tab_with_id:r}=o("./src/generated_libs/libs_frontend/tab_utils.js"),{get_tab_id:c}=o("./src/libs_common/intervention_info.ls");n({is:"call-to-action-button",properties:{goal:{type:Object},buttonText:{type:String,computed:"computeButtonText(goal)"}},ready:function(){this.goal=s()},buttonClicked:function(){if(this.goal.is_positive){_({positive:"positive-goal-site-button clicked"});var t=this.goal.domain;-1==t.search("http")&&(t="https://"+t),window.location.href=t}else _({positive:"close-tab-button clicked"}),r(c())},computeButtonText:function(t){return null!=t.call_to_action?t.call_to_action:t.is_positive?t.description:"Close "+s().sitename_printable}})},"./src/components/feed-item-timer-polymer.deps.js":function(t,e,o){const{import_dom_modules:n}=o("./src/libs_frontend/dom_utils.ls");o("./src/bower_components/polymer/polymer.deps.js"),o("./src/bower_components/lazuli-paper-button/lazuli-paper-button.deps.js"),o("./src/components/lazuli-logo-v2.deps.js"),o("./src/components/call-to-action-button.deps.js"),n(o("./src/components/feed-item-timer-polymer.html"),"components/feed-item-timer-polymer.html"),o("./src/components/feed-item-timer-polymer.js")},"./src/components/feed-item-timer-polymer.html":function(t,e){t.exports="<link rel=import href=../bower_components/polymer/polymer.html> <link rel=import href=../bower_components/lazuli-paper-button/lazuli-paper-button.html> <link rel=import href=lazuli-logo-v2.html> <link rel=import href=call-to-action-button.html> <lazuli-dom-module id=feed-item-timer-polymer> <template> <style>.call-to-action{margin-top:30px;background-color:#415d67;box-shadow:5px 5px 5px #888;border-radius:15px;height:50px;width:300px}.container{background-color:#95cbee;width:500px;height:300px;color:#fff;font-size:1.5em;text-align:center;display:flex;flex-direction:column;align-items:center}.lazuli-logo{margin-top:20px;align-self:center;display:inline-flex;align-items:center;justify-content:center;flex-shrink:0}.timer-text{padding-top:20px}#grey-space{background-color:#e9ebee;height:12px;margin-left:-1px;margin-right:-1px}#shadow{height:1px;background-color:#1d2129;opacity:.2}</style> <div class=container> <div class=timer-text style=color:#415d67>Hoje você está aqui por:</div> <div style=color:#fff;margin-top:20px> <div style=display:inline-block;margin-right:10px> <div style=font-size:40px>{{minutes}}</div> <div>min</div> </div> <div style=display:inline-block;margin-left:10px> <div style=font-size:40px>{{seconds}}</div> <div>sec</div> </div> </div> <call-to-action-button class=call-to-action></call-to-action-button> <lazuli-logo-v2 class=lazuli-logo></lazuli-logo-v2> </div> <div id=shadow></div> <div id=grey-space></div> </template> <script src=feed-item-timer-polymer.js><\/script> </lazuli-dom-module>"},"./src/components/feed-item-timer-polymer.js":function(t,e,o){const{load_css_file:n}=o("./src/libs_frontend/content_script_utils.ls"),{set_intervention_disabled:_,set_intervention_enabled:i}=o("./src/generated_libs/libs_frontend/intervention_utils.js"),{url_to_domain:s}=o("./src/libs_common/domain_utils.ls"),{get_seconds_spent_on_current_domain_today:r}=o("./src/libs_common/time_spent_utils.ls"),{polymer_ext:c}=o("./src/libs_frontend/polymer_utils.ls"),{close_selected_tab:a}=o("./src/generated_libs/libs_frontend/tab_utils.js");c({is:"feed-item-timer-polymer",doc:"Bloqueador de feeds de notícias que exibe o tempo gasto no site atual hoje",properties:{site:{type:String,value:s(window.location.href)},minutes:{type:Number,value:0},seconds:{type:Number,value:0},items:{type:Number,value:1}},attached:function(){var t=function(t){r().then(function(e){t.minutes=Math.floor(e/60),t.seconds=e%60})};t(this);var e=this;setInterval(function(){t(e)},1e3)}},{source:o("./src/libs_common/localization_utils.js"),methods:["msg"]})},"./src/generated_libs/libs_frontend/db_utils.js":function(t,e,o){const{import_lib:n}=o("./src/libs_frontend/import_lib.ls");t.exports=n("db_utils")},"./src/libs_common/domain_utils.ls":function(module,exports,__webpack_require__){var ref$,gexport,gexport_module,url_to_domain,domain_to_url,out$=exports||this;ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.url_to_domain=url_to_domain=function(t){return t.indexOf("://")>-1?t.split("/")[2]:t.split("/")[0]},out$.domain_to_url=domain_to_url=function(t){return"http://"+url_to_domain(t)+"/"},gexport_module("domain_utils",function(it){return eval(it)})},"./src/libs_common/time_spent_utils.ls":function(module,exports,__webpack_require__){var moment,prelude,ref$,getkey_dictdict,getdict_for_key_dictdict,getdict_for_key2_dictdict,getCollection,setkey_dict,getkey_dict,url_to_domain,get_days_since_epoch,get_session_id,gexport,gexport_module,get_seconds_spent_on_all_domains_today,get_seconds_spent_on_all_domains_days_before_today,get_seconds_spent_on_domain_all_days,get_seconds_spent_on_domain_days_before_today,get_seconds_spent_on_domain_today,get_minutes_spent_on_domain_today,get_seconds_spent_on_current_domain_today,get_visits_to_domain_today,get_visits_to_domain_days_before_today,get_visits_to_current_domain_today,get_new_session_id_for_domain,get_seconds_spent_on_current_domain_in_session,get_seconds_spent_on_domain_in_session,get_seconds_spent_on_current_domain_in_current_session,out$=exports||this;moment=__webpack_require__("./node_modules/moment/moment.js"),prelude=__webpack_require__("./node_modules/prelude-ls/lib/index.js"),ref$=__webpack_require__("./src/generated_libs/libs_frontend/db_utils.js"),getkey_dictdict=ref$.getkey_dictdict,getdict_for_key_dictdict=ref$.getdict_for_key_dictdict,getdict_for_key2_dictdict=ref$.getdict_for_key2_dictdict,getCollection=ref$.getCollection,setkey_dict=ref$.setkey_dict,getkey_dict=ref$.getkey_dict,url_to_domain=__webpack_require__("./src/libs_common/domain_utils.ls").url_to_domain,get_days_since_epoch=__webpack_require__("./src/libs_common/time_utils.ls").get_days_since_epoch,get_session_id=__webpack_require__("./src/libs_common/intervention_info.ls").get_session_id,ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.get_seconds_spent_on_all_domains_today=get_seconds_spent_on_all_domains_today=async function(){return await getdict_for_key2_dictdict("seconds_on_domain_per_day",get_days_since_epoch())},out$.get_seconds_spent_on_all_domains_days_before_today=get_seconds_spent_on_all_domains_days_before_today=async function(t){return await getdict_for_key2_dictdict("seconds_on_domain_per_day",get_days_since_epoch()-t)},out$.get_seconds_spent_on_domain_all_days=get_seconds_spent_on_domain_all_days=async function(t){var e,o,n,_,i;for(_ in e=await getdict_for_key_dictdict("seconds_on_domain_per_day",t),o=get_days_since_epoch(),n={},e)i=e[_],n[o-_]=i;return n},out$.get_seconds_spent_on_domain_days_before_today=get_seconds_spent_on_domain_days_before_today=async function(t,e){var o,n;return o=get_days_since_epoch(),null!=(n=await getkey_dictdict("seconds_on_domain_per_day",t,o-e))?n:0},out$.get_seconds_spent_on_domain_today=get_seconds_spent_on_domain_today=async function(t){var e,o;return e=get_days_since_epoch(),null!=(o=await getkey_dictdict("seconds_on_domain_per_day",t,e))?o:0},out$.get_minutes_spent_on_domain_today=get_minutes_spent_on_domain_today=async function(t){var e,o;return e=get_days_since_epoch(),null!=(o=await getkey_dictdict("seconds_on_domain_per_day",t,e))?Math.floor(o/60):0},out$.get_seconds_spent_on_current_domain_today=get_seconds_spent_on_current_domain_today=async function(){var t,e;return t=window.location.host,null!=(e=await get_seconds_spent_on_domain_today(t))?e:0},out$.get_visits_to_domain_today=get_visits_to_domain_today=async function(t){var e,o;return e=get_days_since_epoch(),null!=(o=await getkey_dictdict("visits_to_domain_per_day",t,e))?o:0},out$.get_visits_to_domain_days_before_today=get_visits_to_domain_days_before_today=async function(t,e){var o,n;return o=get_days_since_epoch(),null!=(n=await getkey_dictdict("visits_to_domain_per_day",t,o-e))?n:0},out$.get_visits_to_current_domain_today=get_visits_to_current_domain_today=async function(){var t,e;return t=window.location.host,null!=(e=await get_visits_to_domain_today(t))?e:0},out$.get_new_session_id_for_domain=get_new_session_id_for_domain=async function(t){var e;return null==(e=await getkey_dict("domain_to_last_session_id",t))?(await setkey_dict("domain_to_last_session_id",t,0),0):(await setkey_dict("domain_to_last_session_id",t,e+1),e+1)},out$.get_seconds_spent_on_current_domain_in_session=get_seconds_spent_on_current_domain_in_session=async function(t){var e,o;return e=window.location.host,null!=(o=await get_seconds_spent_on_domain_in_session(e,t))?o:0},out$.get_seconds_spent_on_domain_in_session=get_seconds_spent_on_domain_in_session=async function(t,e){var o;return null!=(o=await getkey_dictdict("seconds_on_domain_per_session",t,e))?o:0},out$.get_seconds_spent_on_current_domain_in_current_session=get_seconds_spent_on_current_domain_in_current_session=async function(){var t,e,o;return t=get_session_id(),e=window.location.host,null!=(o=await get_seconds_spent_on_domain_in_session(e,t))?o:0},gexport_module("time_spent_utils",function(it){return eval(it)})},"./src/libs_common/time_utils.ls":function(module,exports,__webpack_require__){var moment,ref$,gexport,gexport_module,get_days_since_epoch,pad_to_two_digits,printable_time_spent_short,printable_time_spent,printable_time_spent_long,out$=exports||this;moment=__webpack_require__("./node_modules/moment/moment.js"),ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.get_days_since_epoch=get_days_since_epoch=function(){var t;return t=moment().year(2016).month(0).date(1).hours(0).minutes(0).seconds(0).milliseconds(0),moment().diff(t,"days")},pad_to_two_digits=function(t){var e;return 1===(e=t.toString()).length?"0"+e:e},out$.printable_time_spent_short=printable_time_spent_short=function(t){var e;return t<0?"00:00":(e=Math.floor(t/60))+":"+pad_to_two_digits(t-=60*e)},out$.printable_time_spent=printable_time_spent=function(t){return t<60?t+" seconds":moment().add(t,"seconds").fromNow(!0)},out$.printable_time_spent_long=printable_time_spent_long=function(t){var e,o,n,_;return t<0?"0 seconds":(o=t-3600*(e=Math.floor(t/3600)),o-=60*(n=Math.floor(o/60)),_=[],e>0&&(1===e?_.push("1 hour"):_.push(e+" hours")),(n>0||e>0)&&(1===n?_.push("1 minute"):_.push(n+" minutes")),1===o?_.push("1 second"):o>=0&&_.push(o+" seconds"),_.join(" "))},gexport_module("time_utils",function(it){return eval(it)})}}]);