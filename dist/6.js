window.lazuli_content_script = true;

(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"./src/bower_components/paper-slider/paper-slider-0.js":function(e,t){Polymer({is:"paper-slider",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronFormElementBehavior,Polymer.PaperInkyFocusBehavior,Polymer.IronRangeBehavior],properties:{snaps:{type:Boolean,value:!1,notify:!0},pin:{type:Boolean,value:!1,notify:!0},secondaryProgress:{type:Number,value:0,notify:!0,observer:"_secondaryProgressChanged"},editable:{type:Boolean,value:!1},immediateValue:{type:Number,value:0,readOnly:!0,notify:!0},maxMarkers:{type:Number,value:0,notify:!0},expand:{type:Boolean,value:!1,readOnly:!0},dragging:{type:Boolean,value:!1,readOnly:!0},transiting:{type:Boolean,value:!1,readOnly:!0},markers:{type:Array,readOnly:!0,value:[]}},observers:["_updateKnob(value, min, max, snaps, step)","_valueChanged(value)","_immediateValueChanged(immediateValue)","_updateMarkers(maxMarkers, min, max, snaps)"],hostAttributes:{role:"slider",tabindex:0},keyBindings:{"left down pagedown home":"_decrementKey","right up pageup end":"_incrementKey"},increment:function(){this.value=this._clampValue(this.value+this.step)},decrement:function(){this.value=this._clampValue(this.value-this.step)},_updateKnob:function(e,t,o,n,s){this.setAttribute("aria-valuemin",t),this.setAttribute("aria-valuemax",o),this.setAttribute("aria-valuenow",e),this._positionKnob(this._calcRatio(e))},_valueChanged:function(){this.fire("value-change")},_immediateValueChanged:function(){this.dragging?this.fire("immediate-value-change"):this.value=this.immediateValue},_secondaryProgressChanged:function(){this.secondaryProgress=this._clampValue(this.secondaryProgress)},_expandKnob:function(){this._setExpand(!0)},_resetKnob:function(){this.cancelDebouncer("expandKnob"),this._setExpand(!1)},_positionKnob:function(e){this._setImmediateValue(this._calcStep(this._calcKnobPosition(e))),this._setRatio(this._calcRatio(this.immediateValue)),this.$.sliderKnob.style.left=100*this.ratio+"%",this.dragging&&(this._knobstartx=this.ratio*this._w,this.translate3d(0,0,0,this.$.sliderKnob))},_calcKnobPosition:function(e){return(this.max-this.min)*e+this.min},_onTrack:function(e){switch(e.stopPropagation(),e.detail.state){case"start":this._trackStart(e);break;case"track":this._trackX(e);break;case"end":this._trackEnd()}},_trackStart:function(e){this._w=this.$.sliderBar.offsetWidth,this._x=this.ratio*this._w,this._startx=this._x,this._knobstartx=this._startx,this._minx=-this._startx,this._maxx=this._w-this._startx,this.$.sliderKnob.classList.add("dragging"),this._setDragging(!0)},_trackX:function(e){this.dragging||this._trackStart(e);var t=Math.min(this._maxx,Math.max(this._minx,e.detail.dx));this._x=this._startx+t;var o=this._calcStep(this._calcKnobPosition(this._x/this._w));this._setImmediateValue(o);var n=this._calcRatio(this.immediateValue)*this._w-this._knobstartx;this.translate3d(n+"px",0,0,this.$.sliderKnob)},_trackEnd:function(){var e=this.$.sliderKnob.style;this.$.sliderKnob.classList.remove("dragging"),this._setDragging(!1),this._resetKnob(),this.value=this.immediateValue,e.transform=e.webkitTransform="",this.fire("change")},_knobdown:function(e){this._expandKnob(),e.preventDefault(),this.focus()},_bardown:function(e){this._w=this.$.sliderBar.offsetWidth;var t=this.$.sliderBar.getBoundingClientRect(),o=(e.detail.x-t.left)/this._w,n=this.ratio;this._setTransiting(!0),this._positionKnob(o),this.debounce("expandKnob",this._expandKnob,60),n===this.ratio&&this._setTransiting(!1),this.async(function(){this.fire("change")}),e.preventDefault(),this.focus()},_knobTransitionEnd:function(e){e.target===this.$.sliderKnob&&this._setTransiting(!1)},_updateMarkers:function(e,t,o,n){n||this._setMarkers([]);var s=Math.round((o-t)/this.step);s>e&&(s=e),this._setMarkers(new Array(s))},_mergeClasses:function(e){return Object.keys(e).filter(function(t){return e[t]}).join(" ")},_getClassNames:function(){return this._mergeClasses({disabled:this.disabled,pin:this.pin,snaps:this.snaps,ring:this.immediateValue<=this.min,expand:this.expand,dragging:this.dragging,transiting:this.transiting,editable:this.editable})},_incrementKey:function(e){this.disabled||("end"===e.detail.key?this.value=this.max:this.increment(),this.fire("change"))},_decrementKey:function(e){this.disabled||("home"===e.detail.key?this.value=this.min:this.decrement(),this.fire("change"))},_changeValue:function(e){this.value=e.target.value,this.fire("change")},_inputKeyDown:function(e){e.stopPropagation()},_createRipple:function(){return this._rippleContainer=this.$.sliderKnob,Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)},_focusedChanged:function(e){e&&this.ensureRipple(),this.hasRipple()&&(this._ripple.style.display=e?"":"none",this._ripple.holdDown=e)}})},"./src/bower_components/paper-slider/paper-slider.deps.js":function(e,t,o){const{import_dom_modules:n}=o("./src/libs_frontend/dom_utils.ls");o("./src/bower_components/polymer/polymer.deps.js"),o("./src/bower_components/iron-a11y-keys-behavior/iron-a11y-keys-behavior.deps.js"),o("./src/bower_components/iron-flex-layout/iron-flex-layout.deps.js"),o("./src/bower_components/iron-form-element-behavior/iron-form-element-behavior.deps.js"),o("./src/bower_components/iron-range-behavior/iron-range-behavior.deps.js"),o("./src/bower_components/paper-behaviors/paper-inky-focus-behavior.deps.js"),o("./src/bower_components/paper-input/paper-input.deps.js"),o("./src/bower_components/paper-progress/paper-progress.deps.js"),o("./src/bower_components/paper-styles/color.deps.js"),n(o("./src/bower_components/paper-slider/paper-slider.html"),"bower_components/paper-slider/paper-slider.html"),o("./src/bower_components/paper-slider/paper-slider-0.js")},"./src/bower_components/paper-slider/paper-slider.html":function(e,t){e.exports='<html><head><link rel=import href=../polymer/polymer.html> <link rel=import href=../iron-a11y-keys-behavior/iron-a11y-keys-behavior.html> <link rel=import href=../iron-flex-layout/iron-flex-layout.html> <link rel=import href=../iron-form-element-behavior/iron-form-element-behavior.html> <link rel=import href=../iron-range-behavior/iron-range-behavior.html> <link rel=import href=../paper-behaviors/paper-inky-focus-behavior.html> <link rel=import href=../paper-input/paper-input.html> <link rel=import href=../paper-progress/paper-progress.html> <link rel=import href=../paper-styles/color.html> </head><body><lazuli-dom-module id=paper-slider> <template strip-whitespace=""> <style>:host{@apply(--layout);@apply(--layout-justified);@apply(--layout-center);width:200px;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;--paper-progress-active-color:var(--paper-slider-active-color, --google-blue-700);--paper-progress-secondary-color:var(--paper-slider-secondary-color, --google-blue-300);--paper-progress-disabled-active-color:var(--paper-slider-disabled-active-color, --paper-grey-400);--paper-progress-disabled-secondary-color:var(--paper-slider-disabled-secondary-color, --paper-grey-400)}:host(:focus){outline:0}#sliderContainer{position:relative;width:100%;height:calc(30px + var(--paper-slider-height,2px));margin-left:calc(15px + var(--paper-slider-height,2px)/ 2);margin-right:calc(15px + var(--paper-slider-height,2px)/ 2)}#sliderContainer:focus{outline:0}#sliderContainer.editable{margin-top:12px;margin-bottom:12px}.bar-container{position:absolute;top:0;bottom:0;left:0;right:0;overflow:hidden}.ring>.bar-container{left:calc(5px + var(--paper-slider-height,2px)/ 2);transition:left .18s ease}.ring.expand.dragging>.bar-container{transition:none}.ring.expand:not(.pin)>.bar-container{left:calc(8px + var(--paper-slider-height,2px)/ 2)}#sliderBar{padding:15px 0;width:100%;background-color:var(--paper-slider-bar-color,transparent);--paper-progress-container-color:var(--paper-slider-container-color, --paper-grey-400);--paper-progress-height:var(--paper-slider-height, 2px)}.slider-markers{position:absolute;top:calc(14px + var(--paper-slider-height,2px)/ 2);height:var(--paper-slider-height,2px);left:0;right:-1px;box-sizing:border-box;pointer-events:none;@apply(--layout-horizontal);}.slider-marker{@apply(--layout-flex);}.slider-marker::after,.slider-markers::after{content:"";display:block;margin-left:-1px;width:2px;height:2px;border-radius:50%;background-color:#000}#sliderKnob{position:absolute;left:0;top:0;margin-left:calc(-15px - var(--paper-slider-height,2px)/ 2);width:calc(30px + var(--paper-slider-height,2px));height:calc(30px + var(--paper-slider-height,2px))}.transiting>#sliderKnob{transition:left 80ms ease}#sliderKnob:focus{outline:0}#sliderKnob.dragging{transition:none}.snaps>#sliderKnob.dragging{transition:-webkit-transform 80ms ease;transition:transform 80ms ease}#sliderKnobInner{margin:10px;width:calc(100% - 20px);height:calc(100% - 20px);background-color:var(--paper-slider-knob-color,--google-blue-700);border:2px solid var(--paper-slider-knob-color,--google-blue-700);border-radius:50%;-moz-box-sizing:border-box;box-sizing:border-box;transition-property:-webkit-transform,background-color,border;transition-property:transform,background-color,border;transition-duration:.18s;transition-timing-function:ease}.expand:not(.pin)>#sliderKnob>#sliderKnobInner{-webkit-transform:scale(1.5);transform:scale(1.5)}.ring>#sliderKnob>#sliderKnobInner{background-color:var(--paper-slider-knob-start-color,transparent);border:2px solid var(--paper-slider-knob-start-border-color,--paper-grey-400)}#sliderKnobInner::before{background-color:var(--paper-slider-pin-color,--google-blue-700)}.pin>#sliderKnob>#sliderKnobInner::before{content:"";position:absolute;top:0;left:50%;margin-left:-13px;width:26px;height:26px;border-radius:50% 50% 50% 0;-webkit-transform:rotate(-45deg) scale(0) translate(0);transform:rotate(-45deg) scale(0) translate(0)}#sliderKnobInner::after,#sliderKnobInner::before{transition:-webkit-transform .18s ease,background-color .18s ease;transition:transform .18s ease,background-color .18s ease}.pin.ring>#sliderKnob>#sliderKnobInner::before{background-color:var(--paper-slider-pin-start-color,--paper-grey-400)}.pin.expand>#sliderKnob>#sliderKnobInner::before{-webkit-transform:rotate(-45deg) scale(1) translate(17px,-17px);transform:rotate(-45deg) scale(1) translate(17px,-17px)}.pin>#sliderKnob>#sliderKnobInner::after{content:attr(value);position:absolute;top:0;left:50%;margin-left:-16px;width:32px;height:26px;text-align:center;color:var(--paper-slider-font-color,#fff);font-size:10px;-webkit-transform:scale(0) translate(0);transform:scale(0) translate(0)}.pin.expand>#sliderKnob>#sliderKnobInner::after{-webkit-transform:scale(1) translate(0,-17px);transform:scale(1) translate(0,-17px)}.slider-input{width:50px;overflow:hidden;--paper-input-container-input:{text-align:center};@apply(--paper-slider-input);}#sliderContainer.disabled{pointer-events:none}.disabled>#sliderKnob>#sliderKnobInner{background-color:var(--paper-slider-disabled-knob-color,--paper-grey-400);border:2px solid var(--paper-slider-disabled-knob-color,--paper-grey-400);-webkit-transform:scale3d(.75,.75,1);transform:scale3d(.75,.75,1)}.disabled.ring>#sliderKnob>#sliderKnobInner{background-color:var(--paper-slider-knob-start-color,transparent);border:2px solid var(--paper-slider-knob-start-border-color,--paper-grey-400)}paper-ripple{color:var(--paper-slider-knob-color,--google-blue-700)}</style> <div id=sliderContainer class$="[[_getClassNames(disabled, pin, snaps, immediateValue, min, expand, dragging, transiting, editable)]]"> <div class=bar-container> <paper-progress disabled$=[[disabled]] id=sliderBar aria-hidden=true min=[[min]] max=[[max]] step=[[step]] value=[[immediateValue]] secondary-progress=[[secondaryProgress]] on-down=_bardown on-up=_resetKnob on-track=_onTrack> </paper-progress> </div> <template is=dom-if if=[[snaps]]> <div class=slider-markers> <template is=dom-repeat items=[[markers]]> <div class=slider-marker></div> </template> </div> </template> <div id=sliderKnob on-down=_knobdown on-up=_resetKnob on-track=_onTrack on-transitionend=_knobTransitionEnd> <div id=sliderKnobInner value$=[[immediateValue]]></div> </div> </div> <template is=dom-if if=[[editable]]> <paper-input id=input type=number step=[[step]] min=[[min]] max=[[max]] class=slider-input disabled$=[[disabled]] value=[[immediateValue]] on-change=_changeValue on-keydown=_inputKeyDown no-label-float=""> </paper-input> </template> </template> <script src=paper-slider-0.js><\/script> </lazuli-dom-module> </body></html>'},"./src/components/close-tab-button.deps.js":function(e,t,o){const{import_dom_modules:n}=o("./src/libs_frontend/dom_utils.ls");o("./src/bower_components/lazuli-paper-button/lazuli-paper-button.deps.js"),n(o("./src/components/close-tab-button.html"),"components/close-tab-button.html"),o("./src/components/close-tab-button.ls")},"./src/components/close-tab-button.html":function(e,t){e.exports="<link rel=import href=../bower_components/lazuli-paper-button/lazuli-paper-button.html> <lazuli-dom-module id=close-tab-button> <template> <style>:host{display:var(--call-to-action-button-display,inline-block);height:var(--call-to-action-button-height,38px);width:var(--call-to-action-button-width);margin:var(--call-to-action-button-margin,0 0 0 0)}.close_tab_button{cursor:pointer;color:var(--call-to-action-button-color,#fff);font-size:var(--call-to-action-button-font-size,14px);background-color:var(--call-to-action-button-bg-color,#415d67);margin:0 auto;width:100%;height:100%;box-shadow:var(--call-to-action-button-shadow,2px 2px 2px #888)}</style> <lazuli-paper-button class=close_tab_button on-click=button_clicked> {{buttontext}} </lazuli-paper-button> </template> <script src=close-tab-button.js><\/script> </lazuli-dom-module>"},"./src/components/close-tab-button.ls":function(e,t,o){var n,s,i,r;o("./src/generated_libs/libs_frontend/tab_utils.js").close_selected_tab,n=o("./src/libs_frontend/intervention_log_utils.ls").log_action,s=o("./src/libs_common/intervention_info.ls").get_tab_id,i=o("./src/generated_libs/libs_frontend/tab_utils.js").close_tab_with_id,r=o("./src/libs_common/localization_utils.js").msg,Polymer({is:"close-tab-button",doc:"Um botão que fecha a guia atual",properties:{buttontext:{type:String,value:r("Fechar aba")}},button_clicked:async function(){return await n({positive:"close-tab-button clicked"}),i(s())}})},"./src/components/interstitial-screen.deps.js":function(e,t,o){const{import_dom_modules:n}=o("./src/libs_frontend/dom_utils.ls");o("./src/bower_components/polymer/polymer.deps.js"),o("./src/bower_components/lazuli-paper-button/lazuli-paper-button.deps.js"),o("./src/bower_components/paper-time-picker/paper-time-picker.deps.js"),o("./src/bower_components/paper-progress/paper-progress.deps.js"),o("./src/components/lazuli-logo-v2.deps.js"),o("./src/components/call-to-action-button.deps.js"),n(o("./src/components/interstitial-screen.html"),"components/interstitial-screen.html"),o("./src/components/interstitial-screen.js")},"./src/components/interstitial-screen.html":function(e,t){e.exports='<link rel=import href=../bower_components/polymer/polymer.html> <link rel=import href=../bower_components/lazuli-paper-button/lazuli-paper-button.html> <link rel=import href=../bower_components/paper-time-picker/paper-time-picker.html> <link rel=import href=../bower_components/paper-progress/paper-progress.html> <link rel=import href=lazuli-logo-v2.html> <link rel=import href=call-to-action-button.html> <lazuli-dom-module id=interstitial-screen> <template> <style>:host{position:fixed;display:block;top:0;left:0;width:100%;height:100%;background-color:#f2fcff;opacity:1;z-index:350000000000;font-family:Verdana,Geneva,Tahoma,HelveticaNeue-Light,"Helvetica Neue Light","Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif}.contentContainer{margin-top:20px}.titleText{font-size:1.5em;text-align:center}#messagetext{font-size:1.3em;text-align:center}.whiteDiv{position:fixed;display:flex;flex-direction:column;justify-content:center;top:0;left:0;width:100%;height:100%;background-color:#f2fcff;opacity:1;z-index:35000000}.okButton{cursor:pointer;padding:5px;background-color:#415d67;color:#fff;font-size:14px;height:38px;box-shadow:2px 2px 2px #888}.closeTabButton{cursor:pointer;padding:5px;margin-bottom:10px;font-size:14px;height:38px}#logo{margin:10px}.message-block{padding-top:40px;align-self:center}#paperprogress{display:none;margin-bottom:10px}</style> <div class=whiteDiv> <div class=contentContainer> <div id=titletext class=titleText></div> <div id=messagetext></div> <p> </p><p> <center> <paper-progress id=paperprogress></paper-progress> </center> <center> <lazuli-logo-v2 id=logo></lazuli-logo-v2> </center> <center> <call-to-action-button id=closetabbutton class=closeTabButton></call-to-action-button> </center> <center> <lazuli-paper-button id=okbutton class=okButton on-click=buttonclicked>Padrão</lazuli-paper-button> </center> </p> <p></p> </div> </div> </template> <script src=interstitial-screen.js><\/script> </lazuli-dom-module>'},"./src/components/interstitial-screen.js":function(e,t,o){const n=o("./node_modules/jquery/dist/jquery.js"),{polymer_ext:s}=o("./src/libs_frontend/polymer_utils.ls"),{close_selected_tab:i}=o("./src/generated_libs/libs_frontend/tab_utils.js"),{log_action:r}=o("./src/libs_frontend/intervention_log_utils.ls");Polymer({is:"interstitial-screen",doc:"A screen that either shows work sites visited today or suggested links to New York Times articles.",properties:{btnTxt:{type:String},btnTxt2:{type:String},minutes:{type:Number},titleText:{type:String},visits:{type:Number},intervention:{type:String},messageText:{type:String},randomizer:{type:Boolean,value:0==Math.floor(2*Math.random())},show_rss_message:{type:Boolean,computed:"compute_show_rss_message(show_progress_message, randomizer)"},show_workpages_message:{type:Boolean,computed:"compute_show_workpages_message(show_progress_message, randomizer)"},show_progress_message:{type:Boolean,value:!1}},listeners:{disable_intervention:"disableIntervention",show_button:"showButton"},compute_show_rss_message:function(e,t){return!e&&t},compute_show_workpages_message:function(e,t){return!e&&!t},buttonclicked:function(){r({negative:"Continuted to site."}),n(this).hide()},hideButton:function(){this.$.okbutton.hidden=!0,this.$.okbutton.style.display="none"},showProgress:function(){this.$.paperprogress.style.display="block"},incrementProgress:function(){this.$.paperprogress.value+=1},setProgress:function(e){this.$.paperprogress.value=e},showButton:function(){console.log(this.$.okbutton),n(this.$.okbutton).fadeIn("slow"),this.$.okbutton.hidden=!1,this.$.okbutton.style.display="inline-flex"},ready:function(){this.$.okbutton.textContent=this.btnTxt,this.$.closetabbutton.text=this.btnTxt2,this.$.titletext.textContent=this.titleText,this.$.messagetext.textContent=this.messageText,console.log(this.$.titletext.textContent),this.addEventListener("show_button",function(){console.log("hi")})},disableIntervention:function(){n(this).hide()},attributeChanged:function(){this.$.okbutton.textContent=this.btnTxt,this.$.closetabbutton.text=this.btnTxt2,this.$.messagetext.textContent=this.messageText,this.$.titletext.textContent=this.titleText}})},"./src/components/timespent-view.deps.js":function(e,t,o){const{import_dom_modules:n}=o("./src/libs_frontend/dom_utils.ls");o("./src/bower_components/polymer/polymer.deps.js"),o("./src/bower_components/lazuli-paper-button/lazuli-paper-button.deps.js"),o("./src/components/lazuli-logo-v2.deps.js"),o("./src/components/close-tab-button.deps.js"),n(o("./src/components/timespent-view.html"),"components/timespent-view.html"),o("./src/components/timespent-view.js")},"./src/components/timespent-view.html":function(e,t){e.exports='<link rel=import href=../bower_components/polymer/polymer.html> <link rel=import href=../bower_components/lazuli-paper-button/lazuli-paper-button.html> <link rel=import href=lazuli-logo-v2.html> <link rel=import href=close-tab-button.html> <lazuli-dom-module id=timespent-view> <template> <style>:host{display:inline-block;text-align:center;width:100%;height:100%}#displayText{background-color:#3498db;position:fixed;color:#fff;width:125px;min-height:120px;bottom:0;left:0;z-index:99999;font-size:1em;padding:3px;font-family:Verdana,Geneva,Tahoma,HelveticaNeue-Light,"Helvetica Neue Light","Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif;line-height:16.08px;letter-spacing:0}#logo{height:38px;margin-bottom:7px}#close_tab_button{margin-bottom:7px}</style> <div id=displayText> <lazuli-logo-v2 id=logo></lazuli-logo-v2><br/> <close-tab-button id=close_tab_button></close-tab-button> <div>{{displayText}}</div> </div> </template> <script src=timespent-view.js><\/script> </lazuli-dom-module>'},"./src/components/timespent-view.js":function(e,t,o){const{polymer_ext:n}=o("./src/libs_frontend/polymer_utils.ls"),{url_to_domain:s}=o("./src/libs_common/domain_utils.ls"),{close_selected_tab:i}=o("./src/generated_libs/libs_frontend/tab_utils.js"),{get_seconds_spent_on_current_domain_in_current_session:r}=o("./src/libs_common/time_spent_utils.ls"),{printable_time_spent_long:a}=o("./src/libs_common/time_utils.ls");o("./node_modules/jquery/dist/jquery.js");n({is:"timespent-view",properties:{site:{type:String,value:s(window.location.href)},num_seconds_allowed:{type:Number,value:30},time_spent_on_domain_start:{type:Number,value:0},time_spent_on_domain_now:{type:Number,value:0},seconds_remaining:{type:Number,computed:"compute_seconds_remaining(num_seconds_allowed, time_spent_on_domain_start, time_spent_on_domain_now)"},displayText:{type:String,computed:"compute_display_text(seconds_remaining)"}},compute_display_text:function(e){return a(e)+" left."},compute_seconds_remaining:function(e,t,o){let n=e-(o-t);return n<0&&(n=0),n},start:async function(e){if(this.started)return;this.started=!0;let t=this;null==e&&(e=0),t.time_spent_on_domain_start=e,t.time_spent_on_domain_now=await r();let o=!1;setInterval(async function(){t.time_spent_on_domain_now=await r(),t.seconds_remaining<=0?o||(o=!0,t.fire("timer-finished",{})):o=!1},1e3)},startTimer:async function(e,t){null==t&&(t=0),this.num_seconds_allowed=e,this.time_spent_on_domain_start=t,this.time_spent_on_domain_now=this.time_spent_on_domain_start,this.start(t)}})},"./src/generated_libs/libs_frontend/db_utils.js":function(e,t,o){const{import_lib:n}=o("./src/libs_frontend/import_lib.ls");e.exports=n("db_utils")},"./src/generated_libs/libs_frontend/intervention_session_vars_backend.js":function(e,t,o){const{import_lib:n}=o("./src/libs_frontend/import_lib.ls");e.exports=n("intervention_session_vars_backend")},"./src/generated_libs/libs_frontend/session_utils.js":function(e,t,o){const{import_lib:n}=o("./src/libs_frontend/import_lib.ls");e.exports=n("session_utils")},"./src/libs_common/domain_utils.ls":function(module,exports,__webpack_require__){var ref$,gexport,gexport_module,url_to_domain,domain_to_url,out$=exports||this;ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.url_to_domain=url_to_domain=function(e){return e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0]},out$.domain_to_url=domain_to_url=function(e){return"http://"+url_to_domain(e)+"/"},gexport_module("domain_utils",function(it){return eval(it)})},"./src/libs_common/time_spent_utils.ls":function(module,exports,__webpack_require__){var moment,prelude,ref$,getkey_dictdict,getdict_for_key_dictdict,getdict_for_key2_dictdict,getCollection,setkey_dict,getkey_dict,url_to_domain,get_days_since_epoch,get_session_id,gexport,gexport_module,get_seconds_spent_on_all_domains_today,get_seconds_spent_on_all_domains_days_before_today,get_seconds_spent_on_domain_all_days,get_seconds_spent_on_domain_days_before_today,get_seconds_spent_on_domain_today,get_minutes_spent_on_domain_today,get_seconds_spent_on_current_domain_today,get_visits_to_domain_today,get_visits_to_domain_days_before_today,get_visits_to_current_domain_today,get_new_session_id_for_domain,get_seconds_spent_on_current_domain_in_session,get_seconds_spent_on_domain_in_session,get_seconds_spent_on_current_domain_in_current_session,out$=exports||this;moment=__webpack_require__("./node_modules/moment/moment.js"),prelude=__webpack_require__("./node_modules/prelude-ls/lib/index.js"),ref$=__webpack_require__("./src/generated_libs/libs_frontend/db_utils.js"),getkey_dictdict=ref$.getkey_dictdict,getdict_for_key_dictdict=ref$.getdict_for_key_dictdict,getdict_for_key2_dictdict=ref$.getdict_for_key2_dictdict,getCollection=ref$.getCollection,setkey_dict=ref$.setkey_dict,getkey_dict=ref$.getkey_dict,url_to_domain=__webpack_require__("./src/libs_common/domain_utils.ls").url_to_domain,get_days_since_epoch=__webpack_require__("./src/libs_common/time_utils.ls").get_days_since_epoch,get_session_id=__webpack_require__("./src/libs_common/intervention_info.ls").get_session_id,ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.get_seconds_spent_on_all_domains_today=get_seconds_spent_on_all_domains_today=async function(){return await getdict_for_key2_dictdict("seconds_on_domain_per_day",get_days_since_epoch())},out$.get_seconds_spent_on_all_domains_days_before_today=get_seconds_spent_on_all_domains_days_before_today=async function(e){return await getdict_for_key2_dictdict("seconds_on_domain_per_day",get_days_since_epoch()-e)},out$.get_seconds_spent_on_domain_all_days=get_seconds_spent_on_domain_all_days=async function(e){var t,o,n,s,i;for(s in t=await getdict_for_key_dictdict("seconds_on_domain_per_day",e),o=get_days_since_epoch(),n={},t)i=t[s],n[o-s]=i;return n},out$.get_seconds_spent_on_domain_days_before_today=get_seconds_spent_on_domain_days_before_today=async function(e,t){var o,n;return o=get_days_since_epoch(),null!=(n=await getkey_dictdict("seconds_on_domain_per_day",e,o-t))?n:0},out$.get_seconds_spent_on_domain_today=get_seconds_spent_on_domain_today=async function(e){var t,o;return t=get_days_since_epoch(),null!=(o=await getkey_dictdict("seconds_on_domain_per_day",e,t))?o:0},out$.get_minutes_spent_on_domain_today=get_minutes_spent_on_domain_today=async function(e){var t,o;return t=get_days_since_epoch(),null!=(o=await getkey_dictdict("seconds_on_domain_per_day",e,t))?Math.floor(o/60):0},out$.get_seconds_spent_on_current_domain_today=get_seconds_spent_on_current_domain_today=async function(){var e,t;return e=window.location.host,null!=(t=await get_seconds_spent_on_domain_today(e))?t:0},out$.get_visits_to_domain_today=get_visits_to_domain_today=async function(e){var t,o;return t=get_days_since_epoch(),null!=(o=await getkey_dictdict("visits_to_domain_per_day",e,t))?o:0},out$.get_visits_to_domain_days_before_today=get_visits_to_domain_days_before_today=async function(e,t){var o,n;return o=get_days_since_epoch(),null!=(n=await getkey_dictdict("visits_to_domain_per_day",e,o-t))?n:0},out$.get_visits_to_current_domain_today=get_visits_to_current_domain_today=async function(){var e,t;return e=window.location.host,null!=(t=await get_visits_to_domain_today(e))?t:0},out$.get_new_session_id_for_domain=get_new_session_id_for_domain=async function(e){var t;return null==(t=await getkey_dict("domain_to_last_session_id",e))?(await setkey_dict("domain_to_last_session_id",e,0),0):(await setkey_dict("domain_to_last_session_id",e,t+1),t+1)},out$.get_seconds_spent_on_current_domain_in_session=get_seconds_spent_on_current_domain_in_session=async function(e){var t,o;return t=window.location.host,null!=(o=await get_seconds_spent_on_domain_in_session(t,e))?o:0},out$.get_seconds_spent_on_domain_in_session=get_seconds_spent_on_domain_in_session=async function(e,t){var o;return null!=(o=await getkey_dictdict("seconds_on_domain_per_session",e,t))?o:0},out$.get_seconds_spent_on_current_domain_in_current_session=get_seconds_spent_on_current_domain_in_current_session=async function(){var e,t,o;return e=get_session_id(),t=window.location.host,null!=(o=await get_seconds_spent_on_domain_in_session(t,e))?o:0},gexport_module("time_spent_utils",function(it){return eval(it)})},"./src/libs_common/time_utils.ls":function(module,exports,__webpack_require__){var moment,ref$,gexport,gexport_module,get_days_since_epoch,pad_to_two_digits,printable_time_spent_short,printable_time_spent,printable_time_spent_long,out$=exports||this;moment=__webpack_require__("./node_modules/moment/moment.js"),ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.get_days_since_epoch=get_days_since_epoch=function(){var e;return e=moment().year(2016).month(0).date(1).hours(0).minutes(0).seconds(0).milliseconds(0),moment().diff(e,"days")},pad_to_two_digits=function(e){var t;return 1===(t=e.toString()).length?"0"+t:t},out$.printable_time_spent_short=printable_time_spent_short=function(e){var t;return e<0?"00:00":(t=Math.floor(e/60))+":"+pad_to_two_digits(e-=60*t)},out$.printable_time_spent=printable_time_spent=function(e){return e<60?e+" seconds":moment().add(e,"seconds").fromNow(!0)},out$.printable_time_spent_long=printable_time_spent_long=function(e){var t,o,n,s;return e<0?"0 seconds":(o=e-3600*(t=Math.floor(e/3600)),o-=60*(n=Math.floor(o/60)),s=[],t>0&&(1===t?s.push("1 hour"):s.push(t+" hours")),(n>0||t>0)&&(1===n?s.push("1 minute"):s.push(n+" minutes")),1===o?s.push("1 second"):o>=0&&s.push(o+" seconds"),s.join(" "))},gexport_module("time_utils",function(it){return eval(it)})},"./src/libs_frontend/intervention_session_vars.js":function(e,t,o){const{get_intervention_session_var_backend:n,set_intervention_session_var_backend:s}=o("./src/generated_libs/libs_frontend/intervention_session_vars_backend.js"),{get_intervention:i,get_session_id:r}=o("./src/libs_common/intervention_info.ls");e.exports={get_intervention_session_var:async function(e){const t=i().name,o=r();return await n(t,o,e)},set_intervention_session_var:async function(e,t){const o=i().name,n=r();return await s(o,n,e,t)}}}}]);