window.lazuli_content_script = true;

(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"./src/generated_libs/libs_frontend/db_utils.js":function(t,e,_){const{import_lib:o}=_("./src/libs_frontend/import_lib.ls");t.exports=o("db_utils")},"./src/generated_libs/libs_frontend/notification_utils_backend.js":function(t,e,_){const{import_lib:o}=_("./src/libs_frontend/import_lib.ls");t.exports=o("notification_utils_backend")},"./src/generated_libs/libs_frontend/tab_utils.js":function(t,e,_){const{import_lib:o}=_("./src/libs_frontend/import_lib.ls");t.exports=o("tab_utils")},"./src/libs_common/domain_utils.ls":function(module,exports,__webpack_require__){var ref$,gexport,gexport_module,url_to_domain,domain_to_url,out$=exports||this;ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.url_to_domain=url_to_domain=function(t){return t.indexOf("://")>-1?t.split("/")[2]:t.split("/")[0]},out$.domain_to_url=domain_to_url=function(t){return"http://"+url_to_domain(t)+"/"},gexport_module("domain_utils",function(it){return eval(it)})},"./src/libs_common/time_spent_utils.ls":function(module,exports,__webpack_require__){var moment,prelude,ref$,getkey_dictdict,getdict_for_key_dictdict,getdict_for_key2_dictdict,getCollection,setkey_dict,getkey_dict,url_to_domain,get_days_since_epoch,get_session_id,gexport,gexport_module,get_seconds_spent_on_all_domains_today,get_seconds_spent_on_all_domains_days_before_today,get_seconds_spent_on_domain_all_days,get_seconds_spent_on_domain_days_before_today,get_seconds_spent_on_domain_today,get_minutes_spent_on_domain_today,get_seconds_spent_on_current_domain_today,get_visits_to_domain_today,get_visits_to_domain_days_before_today,get_visits_to_current_domain_today,get_new_session_id_for_domain,get_seconds_spent_on_current_domain_in_session,get_seconds_spent_on_domain_in_session,get_seconds_spent_on_current_domain_in_current_session,out$=exports||this;moment=__webpack_require__("./node_modules/moment/moment.js"),prelude=__webpack_require__("./node_modules/prelude-ls/lib/index.js"),ref$=__webpack_require__("./src/generated_libs/libs_frontend/db_utils.js"),getkey_dictdict=ref$.getkey_dictdict,getdict_for_key_dictdict=ref$.getdict_for_key_dictdict,getdict_for_key2_dictdict=ref$.getdict_for_key2_dictdict,getCollection=ref$.getCollection,setkey_dict=ref$.setkey_dict,getkey_dict=ref$.getkey_dict,url_to_domain=__webpack_require__("./src/libs_common/domain_utils.ls").url_to_domain,get_days_since_epoch=__webpack_require__("./src/libs_common/time_utils.ls").get_days_since_epoch,get_session_id=__webpack_require__("./src/libs_common/intervention_info.ls").get_session_id,ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.get_seconds_spent_on_all_domains_today=get_seconds_spent_on_all_domains_today=async function(){return await getdict_for_key2_dictdict("seconds_on_domain_per_day",get_days_since_epoch())},out$.get_seconds_spent_on_all_domains_days_before_today=get_seconds_spent_on_all_domains_days_before_today=async function(t){return await getdict_for_key2_dictdict("seconds_on_domain_per_day",get_days_since_epoch()-t)},out$.get_seconds_spent_on_domain_all_days=get_seconds_spent_on_domain_all_days=async function(t){var e,_,o,n,i;for(n in e=await getdict_for_key_dictdict("seconds_on_domain_per_day",t),_=get_days_since_epoch(),o={},e)i=e[n],o[_-n]=i;return o},out$.get_seconds_spent_on_domain_days_before_today=get_seconds_spent_on_domain_days_before_today=async function(t,e){var _,o;return _=get_days_since_epoch(),null!=(o=await getkey_dictdict("seconds_on_domain_per_day",t,_-e))?o:0},out$.get_seconds_spent_on_domain_today=get_seconds_spent_on_domain_today=async function(t){var e,_;return e=get_days_since_epoch(),null!=(_=await getkey_dictdict("seconds_on_domain_per_day",t,e))?_:0},out$.get_minutes_spent_on_domain_today=get_minutes_spent_on_domain_today=async function(t){var e,_;return e=get_days_since_epoch(),null!=(_=await getkey_dictdict("seconds_on_domain_per_day",t,e))?Math.floor(_/60):0},out$.get_seconds_spent_on_current_domain_today=get_seconds_spent_on_current_domain_today=async function(){var t,e;return t=window.location.host,null!=(e=await get_seconds_spent_on_domain_today(t))?e:0},out$.get_visits_to_domain_today=get_visits_to_domain_today=async function(t){var e,_;return e=get_days_since_epoch(),null!=(_=await getkey_dictdict("visits_to_domain_per_day",t,e))?_:0},out$.get_visits_to_domain_days_before_today=get_visits_to_domain_days_before_today=async function(t,e){var _,o;return _=get_days_since_epoch(),null!=(o=await getkey_dictdict("visits_to_domain_per_day",t,_-e))?o:0},out$.get_visits_to_current_domain_today=get_visits_to_current_domain_today=async function(){var t,e;return t=window.location.host,null!=(e=await get_visits_to_domain_today(t))?e:0},out$.get_new_session_id_for_domain=get_new_session_id_for_domain=async function(t){var e;return null==(e=await getkey_dict("domain_to_last_session_id",t))?(await setkey_dict("domain_to_last_session_id",t,0),0):(await setkey_dict("domain_to_last_session_id",t,e+1),e+1)},out$.get_seconds_spent_on_current_domain_in_session=get_seconds_spent_on_current_domain_in_session=async function(t){var e,_;return e=window.location.host,null!=(_=await get_seconds_spent_on_domain_in_session(e,t))?_:0},out$.get_seconds_spent_on_domain_in_session=get_seconds_spent_on_domain_in_session=async function(t,e){var _;return null!=(_=await getkey_dictdict("seconds_on_domain_per_session",t,e))?_:0},out$.get_seconds_spent_on_current_domain_in_current_session=get_seconds_spent_on_current_domain_in_current_session=async function(){var t,e,_;return t=get_session_id(),e=window.location.host,null!=(_=await get_seconds_spent_on_domain_in_session(e,t))?_:0},gexport_module("time_spent_utils",function(it){return eval(it)})},"./src/libs_common/time_utils.ls":function(module,exports,__webpack_require__){var moment,ref$,gexport,gexport_module,get_days_since_epoch,pad_to_two_digits,printable_time_spent_short,printable_time_spent,printable_time_spent_long,out$=exports||this;moment=__webpack_require__("./node_modules/moment/moment.js"),ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.get_days_since_epoch=get_days_since_epoch=function(){var t;return t=moment().year(2016).month(0).date(1).hours(0).minutes(0).seconds(0).milliseconds(0),moment().diff(t,"days")},pad_to_two_digits=function(t){var e;return 1===(e=t.toString()).length?"0"+e:e},out$.printable_time_spent_short=printable_time_spent_short=function(t){var e;return t<0?"00:00":(e=Math.floor(t/60))+":"+pad_to_two_digits(t-=60*e)},out$.printable_time_spent=printable_time_spent=function(t){return t<60?t+" seconds":moment().add(t,"seconds").fromNow(!0)},out$.printable_time_spent_long=printable_time_spent_long=function(t){var e,_,o,n;return t<0?"0 seconds":(_=t-3600*(e=Math.floor(t/3600)),_-=60*(o=Math.floor(_/60)),n=[],e>0&&(1===e?n.push("1 hour"):n.push(e+" hours")),(o>0||e>0)&&(1===o?n.push("1 minute"):n.push(o+" minutes")),1===_?n.push("1 second"):_>=0&&n.push(_+" seconds"),n.join(" "))},gexport_module("time_utils",function(it){return eval(it)})},"./src/libs_frontend/intervention_close_tab.ls":function(t,e,_){var o,n,i;o=_("./src/libs_common/intervention_info.ls").get_tab_id,n=_("./src/generated_libs/libs_frontend/tab_utils.js").close_tab_with_id,i=async function(){var t;return t=o(),await n(t)},t.exports={close_current_tab:i}},"./src/libs_frontend/notification_utils.js":function(t,e,_){const{make_notification_backend:o,close_notification_backend:n}=_("./src/generated_libs/libs_frontend/notification_utils_backend.js"),{get_tab_id:i}=_("./src/libs_common/intervention_info.ls");let s={},r=!1;t.exports={make_notification:async function(t){let e=i();return await o(t,e)},notification_onclick:function(t,e){s[t]=e,r||(r=!0,chrome.runtime.onMessage.addListener(function(t,e,_){let{type:o,data:n}=t;"notification_onclick"==o&&n&&n.notification_id&&s[n.notification_id]&&s[n.notification_id]()}))},close_notification:n}},"./src/libs_frontend/polymer_utils.ls":function(t,e,_){var o,n,i,s,r,d,a,c=e||this;_("./src/libs_common/gexport.ls").gexport,o=_("./node_modules/jquery/dist/jquery.js"),n=_("./src/libs_frontend/dom_utils.ls").import_dom_modules,_("./src/bower_components/polymer/polymer.deps.js"),i={properties:{propertieslist:{type:Array,value:[]}},getdata:function(){var t,e,_,o,n;for(t={},e=0,o=(_=this.propertieslist).length;e<o;++e)t[n=_[e]]=this[n];return t}},s=[],r={},c.list_polymer_ext_tags=function(){var t;return function(){var e,_,o,n=[];for(e=0,o=(_=s).length;e<o;++e)t=_[e],n.push(t);return n}()},c.list_polymer_ext_tags_with_info=function(){var t;return function(){var e,_,o,n=[];for(e=0,o=(_=s).length;e<o;++e)t=_[e],n.push(r[t]);return n}()},d=function(t){var e,_,o,n,i,s,r,d;if(e={},null==t)return e;if(null!=t.source&&null!=t.methods&&(t=[t]),Array.isArray(t))for(_=0,o=t.length;_<o;++_)for(i=0,r=(s=(n=t[_]).methods).length;i<r;++i)e[d=s[i]]=n.source[d];else e=t;return e},a=function(t,e,_){var a,c,l,u,m,p,g,f;for(m in"string"==typeof t?(-1===t.indexOf("</lazuli-dom-module>")&&(t="<lazuli-dom-module>\n"+t+"\n</lazuli-dom-module>"),n(t,{tagname:e.is})):(_=e,e=t),a=d(_),null==(c=(e=o.extend(!0,{},e)).is)&&console.log('called polymer_ext but missing "is" property'),null!=r[c]&&console.log("polymer_ext_tag_to_info called multiple times for "+c),[],null==e.behaviors&&(e.behaviors=[]),u=o.extend(!0,{},i),a)p=a[m],u[m]=p;for(m in e.behaviors.push(u),null==e.properties&&(e.properties={}),g=[],f=e.properties)p=f[m],g.push(m);return l=g,null==e.properties.propertieslist&&(e.properties.propertieslist={type:Array,value:l}),s.push(c),r[c]=o.extend(!0,{},e),Polymer(e)},c.polymer_ext=a}}]);