window.lazuli_content_script = true;

(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"./src/components/call-to-action-button.deps.js":function(t,o,e){const{import_dom_modules:n}=e("./src/libs_frontend/dom_utils.ls");e("./src/bower_components/lazuli-paper-button/lazuli-paper-button.deps.js"),n(e("./src/components/call-to-action-button.html"),"components/call-to-action-button.html"),e("./src/components/call-to-action-button.js")},"./src/components/call-to-action-button.html":function(t,o){t.exports="<link rel=import href=../bower_components/lazuli-paper-button/lazuli-paper-button.html> <lazuli-dom-module id=call-to-action-button> <template> <style>:host{display:var(--call-to-action-button-display,inline-block);min-height:var(--call-to-action-button-min-height,38px);width:var(--call-to-action-button-width);margin:var(--call-to-action-button-margin,0 0 0 0)}.call-to-action-button{cursor:pointer;color:var(--call-to-action-button-color,#fff);background-color:var(--call-to-action-button-bg-color,#415d67);margin:0 auto;width:100%;height:100%;box-shadow:var(--call-to-action-button-shadow,2px 2px 2px #888)}</style> <lazuli-paper-button class=call-to-action-button on-click=buttonClicked> {{buttonText}} </lazuli-paper-button> </template> <script src=call-to-action-button.js><\/script> </lazuli-dom-module>"},"./src/components/call-to-action-button.js":function(t,o,e){const{polymer_ext:n}=e("./src/libs_frontend/polymer_utils.ls"),{log_action:_}=e("./src/libs_frontend/intervention_log_utils.ls"),{get_intervention:i,get_goal_info:s}=e("./src/libs_common/intervention_info.ls"),{close_tab_with_id:a}=e("./src/generated_libs/libs_frontend/tab_utils.js"),{get_tab_id:r}=e("./src/libs_common/intervention_info.ls");n({is:"call-to-action-button",properties:{goal:{type:Object},buttonText:{type:String,computed:"computeButtonText(goal)"}},ready:function(){this.goal=s()},buttonClicked:function(){if(this.goal.is_positive){_({positive:"positive-goal-site-button clicked"});var t=this.goal.domain;-1==t.search("http")&&(t="https://"+t),window.location.href=t}else _({positive:"close-tab-button clicked"}),a(r())},computeButtonText:function(t){return null!=t.call_to_action?t.call_to_action:t.is_positive?t.description:"Close "+s().sitename_printable}})},"./src/components/video-overlay.deps.js":function(t,o,e){const{import_dom_modules:n}=e("./src/libs_frontend/dom_utils.ls");e("./src/bower_components/polymer/polymer.deps.js"),e("./src/bower_components/lazuli-paper-button/lazuli-paper-button.deps.js"),e("./src/components/lazuli-logo-v2.deps.js"),e("./src/components/call-to-action-button.deps.js"),n(e("./src/components/video-overlay.html"),"components/video-overlay.html"),e("./src/components/video-overlay.js")},"./src/components/video-overlay.html":function(t,o){t.exports="<link rel=import href=../bower_components/polymer/polymer.html> <link rel=import href=../bower_components/lazuli-paper-button/lazuli-paper-button.html> <link rel=import href=lazuli-logo-v2.html> <link rel=import href=call-to-action-button.html> <lazuli-dom-module id=video-overlay> <template> <style>:host{display:flex}#outerdiv{background-color:#1f1f1f;width:100%;height:100%;display:table}#button_container{display:table-cell;vertical-align:middle;text-align:center;font-size:14px}#watch_video_button{background-color:#415d67;color:#fff;-webkit-font-smoothing:antialiased;box-shadow:2px 2px 2px #888;height:38px;margin-left:10px}#msg{font-size:24px;color:#f0f0f0;font-weight:300}</style> <div id=outerdiv> <div id=button_container> <lazuli-logo-v2 id=logo></lazuli-logo-v2> <br><br><br> <b id=msg></b> <br> <br><br> <call-to-action-button id=close_button></call-to-action-button> <lazuli-paper-button on-click=watch_button_clicked id=watch_video_button> Visualizar vídeo </lazuli-paper-button> </div> </div> </template> <script src=video-overlay.js><\/script> </lazuli-dom-module>"},"./src/components/video-overlay.js":function(t,o,e){const{get_seconds_spent_on_domain_today:n}=e("./src/libs_common/time_spent_utils.ls"),{get_intervention:_,get_goal_info:i}=e("./src/libs_common/intervention_info.ls");Polymer({is:"video-overlay",properties:{isdemo:{type:Boolean,observer:"isdemo_changed"},domain:{type:String,value:"chrome-extension:"==window.location.protocol?"www.iqiyi.com":window.location.host},sitename_printable:{type:String,value:i().sitename_printable}},watch_button_clicked:function(t){this.fire("watch_clicked",{}),console.log("botão de relógio foi clicado")},ready:async function(){const t=await n(this.domain),o=Math.floor(t/60),e=t%60;this.$.msg.innerHTML="Você gastou "+o+" minutos e "+e+" segundos "+this.sitename_printable+" hoje. <br> Tem certeza que deseja continuar assistindo os vídeos? "},isdemo_changed:function(t){console.log("isdemo_changed called"),console.log(t),t&&(this.style.height="410px",this.style.width="680px")}})},"./src/generated_libs/libs_frontend/db_utils.js":function(t,o,e){const{import_lib:n}=e("./src/libs_frontend/import_lib.ls");t.exports=n("db_utils")},"./src/libs_common/domain_utils.ls":function(module,exports,__webpack_require__){var ref$,gexport,gexport_module,url_to_domain,domain_to_url,out$=exports||this;ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.url_to_domain=url_to_domain=function(t){return t.indexOf("://")>-1?t.split("/")[2]:t.split("/")[0]},out$.domain_to_url=domain_to_url=function(t){return"http://"+url_to_domain(t)+"/"},gexport_module("domain_utils",function(it){return eval(it)})},"./src/libs_common/time_spent_utils.ls":function(module,exports,__webpack_require__){var moment,prelude,ref$,getkey_dictdict,getdict_for_key_dictdict,getdict_for_key2_dictdict,getCollection,setkey_dict,getkey_dict,url_to_domain,get_days_since_epoch,get_session_id,gexport,gexport_module,get_seconds_spent_on_all_domains_today,get_seconds_spent_on_all_domains_days_before_today,get_seconds_spent_on_domain_all_days,get_seconds_spent_on_domain_days_before_today,get_seconds_spent_on_domain_today,get_minutes_spent_on_domain_today,get_seconds_spent_on_current_domain_today,get_visits_to_domain_today,get_visits_to_domain_days_before_today,get_visits_to_current_domain_today,get_new_session_id_for_domain,get_seconds_spent_on_current_domain_in_session,get_seconds_spent_on_domain_in_session,get_seconds_spent_on_current_domain_in_current_session,out$=exports||this;moment=__webpack_require__("./node_modules/moment/moment.js"),prelude=__webpack_require__("./node_modules/prelude-ls/lib/index.js"),ref$=__webpack_require__("./src/generated_libs/libs_frontend/db_utils.js"),getkey_dictdict=ref$.getkey_dictdict,getdict_for_key_dictdict=ref$.getdict_for_key_dictdict,getdict_for_key2_dictdict=ref$.getdict_for_key2_dictdict,getCollection=ref$.getCollection,setkey_dict=ref$.setkey_dict,getkey_dict=ref$.getkey_dict,url_to_domain=__webpack_require__("./src/libs_common/domain_utils.ls").url_to_domain,get_days_since_epoch=__webpack_require__("./src/libs_common/time_utils.ls").get_days_since_epoch,get_session_id=__webpack_require__("./src/libs_common/intervention_info.ls").get_session_id,ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.get_seconds_spent_on_all_domains_today=get_seconds_spent_on_all_domains_today=async function(){return await getdict_for_key2_dictdict("seconds_on_domain_per_day",get_days_since_epoch())},out$.get_seconds_spent_on_all_domains_days_before_today=get_seconds_spent_on_all_domains_days_before_today=async function(t){return await getdict_for_key2_dictdict("seconds_on_domain_per_day",get_days_since_epoch()-t)},out$.get_seconds_spent_on_domain_all_days=get_seconds_spent_on_domain_all_days=async function(t){var o,e,n,_,i;for(_ in o=await getdict_for_key_dictdict("seconds_on_domain_per_day",t),e=get_days_since_epoch(),n={},o)i=o[_],n[e-_]=i;return n},out$.get_seconds_spent_on_domain_days_before_today=get_seconds_spent_on_domain_days_before_today=async function(t,o){var e,n;return e=get_days_since_epoch(),null!=(n=await getkey_dictdict("seconds_on_domain_per_day",t,e-o))?n:0},out$.get_seconds_spent_on_domain_today=get_seconds_spent_on_domain_today=async function(t){var o,e;return o=get_days_since_epoch(),null!=(e=await getkey_dictdict("seconds_on_domain_per_day",t,o))?e:0},out$.get_minutes_spent_on_domain_today=get_minutes_spent_on_domain_today=async function(t){var o,e;return o=get_days_since_epoch(),null!=(e=await getkey_dictdict("seconds_on_domain_per_day",t,o))?Math.floor(e/60):0},out$.get_seconds_spent_on_current_domain_today=get_seconds_spent_on_current_domain_today=async function(){var t,o;return t=window.location.host,null!=(o=await get_seconds_spent_on_domain_today(t))?o:0},out$.get_visits_to_domain_today=get_visits_to_domain_today=async function(t){var o,e;return o=get_days_since_epoch(),null!=(e=await getkey_dictdict("visits_to_domain_per_day",t,o))?e:0},out$.get_visits_to_domain_days_before_today=get_visits_to_domain_days_before_today=async function(t,o){var e,n;return e=get_days_since_epoch(),null!=(n=await getkey_dictdict("visits_to_domain_per_day",t,e-o))?n:0},out$.get_visits_to_current_domain_today=get_visits_to_current_domain_today=async function(){var t,o;return t=window.location.host,null!=(o=await get_visits_to_domain_today(t))?o:0},out$.get_new_session_id_for_domain=get_new_session_id_for_domain=async function(t){var o;return null==(o=await getkey_dict("domain_to_last_session_id",t))?(await setkey_dict("domain_to_last_session_id",t,0),0):(await setkey_dict("domain_to_last_session_id",t,o+1),o+1)},out$.get_seconds_spent_on_current_domain_in_session=get_seconds_spent_on_current_domain_in_session=async function(t){var o,e;return o=window.location.host,null!=(e=await get_seconds_spent_on_domain_in_session(o,t))?e:0},out$.get_seconds_spent_on_domain_in_session=get_seconds_spent_on_domain_in_session=async function(t,o){var e;return null!=(e=await getkey_dictdict("seconds_on_domain_per_session",t,o))?e:0},out$.get_seconds_spent_on_current_domain_in_current_session=get_seconds_spent_on_current_domain_in_current_session=async function(){var t,o,e;return t=get_session_id(),o=window.location.host,null!=(e=await get_seconds_spent_on_domain_in_session(o,t))?e:0},gexport_module("time_spent_utils",function(it){return eval(it)})},"./src/libs_common/time_utils.ls":function(module,exports,__webpack_require__){var moment,ref$,gexport,gexport_module,get_days_since_epoch,pad_to_two_digits,printable_time_spent_short,printable_time_spent,printable_time_spent_long,out$=exports||this;moment=__webpack_require__("./node_modules/moment/moment.js"),ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.get_days_since_epoch=get_days_since_epoch=function(){var t;return t=moment().year(2016).month(0).date(1).hours(0).minutes(0).seconds(0).milliseconds(0),moment().diff(t,"days")},pad_to_two_digits=function(t){var o;return 1===(o=t.toString()).length?"0"+o:o},out$.printable_time_spent_short=printable_time_spent_short=function(t){var o;return t<0?"00:00":(o=Math.floor(t/60))+":"+pad_to_two_digits(t-=60*o)},out$.printable_time_spent=printable_time_spent=function(t){return t<60?t+" seconds":moment().add(t,"seconds").fromNow(!0)},out$.printable_time_spent_long=printable_time_spent_long=function(t){var o,e,n,_;return t<0?"0 seconds":(e=t-3600*(o=Math.floor(t/3600)),e-=60*(n=Math.floor(e/60)),_=[],o>0&&(1===o?_.push("1 hour"):_.push(o+" hours")),(n>0||o>0)&&(1===n?_.push("1 minute"):_.push(n+" minutes")),1===e?_.push("1 second"):e>=0&&_.push(e+" seconds"),_.join(" "))},gexport_module("time_utils",function(it){return eval(it)})}}]);