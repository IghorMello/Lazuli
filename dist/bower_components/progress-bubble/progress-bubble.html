<html><head><link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">

</head><body><dom-module id="progress-bubble">
  <style>
    :host {
      display: block;
      width: 100px;
      height: 100px;
      margin: 10px;
      position: relative;
      background: var(--progress-bubble-background, radial-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.2)));
      border-radius: 50%;
      font-size: 24px;
      text-shadow: 0 2px 2px rgba(0, 0, 0, 0.8);
      color: #fff;
    }
    svg,
    div {
      opacity: 0;
      transition: opacity 150ms;
    }
    :host(.calculation-ready) svg,
    :host(.calculation-ready) div {
      opacity: 1;
    }
    #reflection {
      width: 25%;
      height: 25%;
      background: url("reflection.svg") top left no-repeat;
      display: var(--progress-bubble-reflection-display, block);
      position: absolute;
      top: 14%;
      left: 15%;
      background-size: contain;
    }
    #content {
      width: 100%;
      height: 100%;
      @apply(--layout-vertical);
      @apply(--layout-center-center);
    }
    svg {
      position: absolute;
      top: 0;
      left: 0;
    }
    #bgCircle {
      stroke: var(--progress-bubble-bg-stroke-color, rgba(255, 255, 255, 0.1));
    }
    #svgCircle {
      transition: stroke-dashoffset 150ms;
      stroke: var(--progress-bubble-stroke-color, rgba(0, 240, 45, 0.8));
      stroke-linecap: var(--progress-bubble-stroke-linecap, round);
    }
    #svgCircle2 {
      transition: stroke-dashoffset 150ms;
      stroke: var(--progress-bubble-stroke-color2, rgba(255, 255, 0, 0.8));
      stroke-linecap: var(--progress-bubble-stroke-linecap, round);
    }
  </style>
  <template>
    <svg id="progressArc" width="100%" height="100%">
      <circle id="bgCircle" r$="[[_radius]]" cx$="[[_cx]]" cy$="[[_cy]]" fill="transparent" stroke-width$="[[strokeWidth]]"></circle>
      <circle style="display: none" id="svgCircle2" r$="[[_radius]]" cx$="[[_cx]]" cy$="[[_cy]]" fill="transparent" stroke-width$="[[strokeWidth]]" stroke-dasharray$="[[_dasharray]]" stroke-dashoffset$="[[_dashoffset2]]" transform$="[[_transform2]]"></circle>
      <circle style="display: none" id="svgCircle" r$="[[_radius]]" cx$="[[_cx]]" cy$="[[_cy]]" fill="transparent" stroke-width$="[[strokeWidth]]" stroke-dasharray$="[[_dasharray]]" stroke-dashoffset$="[[_dashoffset]]" transform$="[[_transform]]"></circle>
    </svg>
    <div id="reflection"></div>
    <div id="content"><content></content></div>
  </template>
</dom-module>
<script src="progress-bubble-0.js"></script>
</body></html>
