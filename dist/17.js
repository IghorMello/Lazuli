window.lazuli_content_script = true;

(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"./src/components/banner-screen-num-visits.deps.js":function(t,e,o){const{import_dom_modules:n}=o("./src/libs_frontend/dom_utils.ls");o("./src/bower_components/polymer/polymer.deps.js"),o("./src/bower_components/lazuli-paper-button/lazuli-paper-button.deps.js"),o("./src/components/lazuli-logo-v2.deps.js"),o("./src/components/close-tab-button.deps.js"),o("./src/bower_components/polymer-themes/ice.deps.js"),o("./src/bower_components/paper-toast/paper-toast.deps.js"),n(o("./src/components/banner-screen-num-visits.html"),"components/banner-screen-num-visits.html"),o("./src/components/banner-screen-num-visits.js")},"./src/components/banner-screen-num-visits.html":function(t,e){t.exports='<link rel=import href=../bower_components/polymer/polymer.html> <link rel=import href=../bower_components/lazuli-paper-button/lazuli-paper-button.html> <link rel=import href=lazuli-logo-v2.html> <link rel=import href=close-tab-button.html> <link rel=import href=../bower_components/polymer-themes/ice.html> <link rel=import href=../bower_components/paper-toast/paper-toast.html> <lazuli-dom-module id=banner-screen-num-visits> <template> <style>:host{z-index:9007199254740991;text-align:center;width:350px;height:270px;font-family:Verdana,Geneva,Tahoma,HelveticaNeue-Light,"Helvetica Neue Light","Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif;font-size:7px;--call-to-action-button-height:38px;--call-to-action-button-padding:5px;--call-to-action-button-margin:0px 0px 10px 0px}.contentContainer{margin-top:20x}.titleText{font-size:.75em;text-align:center}#messagetext{font-size:.65em;text-align:center}.whiteDiv{position:fixed;display:flex;flex-direction:column;text-align:center;bottom:0;left:0;width:350px;height:270px;background-color:#f2fcff;opacity:1;z-index:35000000}.okButton{cursor:pointer;padding:5px;background-color:#415d67;color:#fff;font-size:7px;height:38px;box-shadow:2px 2px 2px #888}#logo{margin-top:10px;padding-bottom:10px}.message-block{padding-top:20px;align-self:center}#paperprogress{display:none;margin-bottom:10px}#block_container{text-align:center}#browsing,#min,#sec,#spent,#today,#visits{display:inline}#sample_toast{width:350px;height:280px;z-index:9007199254740991;background-color:#f0f8ff;color:#000}</style> <paper-toast id=sample_toast text="" duration=0 vertical-align=top horizontal-align=right opened> <div class=whiteDiv> <div id=block_container style=margin-top:20px> <div id=today class=timer-text style=text-align:left;color:#415d67;font-size:10px;line-height:200%>Today you have spent <b>{{minutes}}</b> minutos depois {{sitenamePrintable}}. <br>Você já visitou <b>{{visits}}</b> horas. </div> </div> <center> <lazuli-logo-v2 id=logo></lazuli-logo-v2> <center> <center> <close-tab-button id=calltoactionbutton /> </center> <div class=contentContainer> <center> <lazuli-paper-button id=okbutton class=okButton on-click=continueclicked> {{continue_button_text}} </lazuli-paper-button> </center> </div> </center> </center> </div> </paper-toast> </template> <script src=banner-screen-num-visits.js><\/script> </lazuli-dom-module>'},"./src/components/banner-screen-num-visits.js":function(t,e,o){const{polymer_ext:n}=o("./src/libs_frontend/polymer_utils.ls"),{close_selected_tab:s}=o("./src/generated_libs/libs_frontend/tab_utils.js"),{log_action:i}=o("./src/libs_frontend/intervention_log_utils.ls"),{get_positive_enabled_uncompleted_goals:_}=o("./src/generated_libs/libs_frontend/goal_utils.js");o("./node_modules/jquery/dist/jquery.js");Polymer({is:"banner-screen-num-visits",doc:"Uma tela que mostra o tempo gasto em um site hoje, o número de visitas e links para artigos do New York Times.",properties:{sitenamePrintable:{type:String},btnTxt:{type:String},btnTxt2:{type:String},minutes:{type:Number},visits:{type:Number},intervention:{type:String},messageText:{type:String},randomizer:{type:Boolean,value:0==Math.floor(2*Math.random())},show_positive_site_trigger:{type:Boolean,value:!1},show_progress_message:{type:Boolean,value:!1},show_quote_message:{type:Boolean,value:!0}},listeners:{disable_intervention:"disableIntervention",show_button:"showButton"},compute_show_rss_message:function(t,e,o,n){return!t&&!o&&!e&&n},compute_show_workpages_message:function(t,e,o,n){return!(t||o||e||n)},buttonclicked:function(){i({negative:"Continua para o site."}),this.$.sample_toast.hide()},hideButton:function(){this.$.okbutton.hidden=!0,this.$.okbutton.style.display="none"},showButton:function(){this.$.okbutton.hidden=!1,this.$.okbutton.style.style.display="inline-flex",this.$.calltoactionbutton.setProperty("--call-to-action-button-display","inline-flex")},ready:async function(){this.$.okbutton.textContent=this.btnTxt,this.$.calltoactionbutton.text=this.btnTxt2,this.addEventListener("show_button",function(){})},disableIntervention:function(){this.$.sample_toast.hide()},attributeChanged:function(){this.$.okbutton.textContent=this.btnTxt,this.$.calltoactionbutton.closeTabText=this.btnTxt2,this.$.messagetext.textContent=this.messageText},continueclicked:function(){i({negative:"Continuar para o site."}),this.$.sample_toast.hide()}})},"./src/components/close-tab-button.deps.js":function(t,e,o){const{import_dom_modules:n}=o("./src/libs_frontend/dom_utils.ls");o("./src/bower_components/lazuli-paper-button/lazuli-paper-button.deps.js"),n(o("./src/components/close-tab-button.html"),"components/close-tab-button.html"),o("./src/components/close-tab-button.ls")},"./src/components/close-tab-button.html":function(t,e){t.exports="<link rel=import href=../bower_components/lazuli-paper-button/lazuli-paper-button.html> <lazuli-dom-module id=close-tab-button> <template> <style>:host{display:var(--call-to-action-button-display,inline-block);height:var(--call-to-action-button-height,38px);width:var(--call-to-action-button-width);margin:var(--call-to-action-button-margin,0 0 0 0)}.close_tab_button{cursor:pointer;color:var(--call-to-action-button-color,#fff);font-size:var(--call-to-action-button-font-size,14px);background-color:var(--call-to-action-button-bg-color,#415d67);margin:0 auto;width:100%;height:100%;box-shadow:var(--call-to-action-button-shadow,2px 2px 2px #888)}</style> <lazuli-paper-button class=close_tab_button on-click=button_clicked> {{buttontext}} </lazuli-paper-button> </template> <script src=close-tab-button.js><\/script> </lazuli-dom-module>"},"./src/components/close-tab-button.ls":function(t,e,o){var n,s,i,_;o("./src/generated_libs/libs_frontend/tab_utils.js").close_selected_tab,n=o("./src/libs_frontend/intervention_log_utils.ls").log_action,s=o("./src/libs_common/intervention_info.ls").get_tab_id,i=o("./src/generated_libs/libs_frontend/tab_utils.js").close_tab_with_id,_=o("./src/libs_common/localization_utils.js").msg,Polymer({is:"close-tab-button",doc:"Um botão que fecha a guia atual",properties:{buttontext:{type:String,value:_("Fechar aba")}},button_clicked:async function(){return await n({positive:"close-tab-button clicked"}),i(s())}})},"./src/generated_libs/libs_frontend/db_utils.js":function(t,e,o){const{import_lib:n}=o("./src/libs_frontend/import_lib.ls");t.exports=n("db_utils")},"./src/libs_common/domain_utils.ls":function(module,exports,__webpack_require__){var ref$,gexport,gexport_module,url_to_domain,domain_to_url,out$=exports||this;ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.url_to_domain=url_to_domain=function(t){return t.indexOf("://")>-1?t.split("/")[2]:t.split("/")[0]},out$.domain_to_url=domain_to_url=function(t){return"http://"+url_to_domain(t)+"/"},gexport_module("domain_utils",function(it){return eval(it)})},"./src/libs_common/time_spent_utils.ls":function(module,exports,__webpack_require__){var moment,prelude,ref$,getkey_dictdict,getdict_for_key_dictdict,getdict_for_key2_dictdict,getCollection,setkey_dict,getkey_dict,url_to_domain,get_days_since_epoch,get_session_id,gexport,gexport_module,get_seconds_spent_on_all_domains_today,get_seconds_spent_on_all_domains_days_before_today,get_seconds_spent_on_domain_all_days,get_seconds_spent_on_domain_days_before_today,get_seconds_spent_on_domain_today,get_minutes_spent_on_domain_today,get_seconds_spent_on_current_domain_today,get_visits_to_domain_today,get_visits_to_domain_days_before_today,get_visits_to_current_domain_today,get_new_session_id_for_domain,get_seconds_spent_on_current_domain_in_session,get_seconds_spent_on_domain_in_session,get_seconds_spent_on_current_domain_in_current_session,out$=exports||this;moment=__webpack_require__("./node_modules/moment/moment.js"),prelude=__webpack_require__("./node_modules/prelude-ls/lib/index.js"),ref$=__webpack_require__("./src/generated_libs/libs_frontend/db_utils.js"),getkey_dictdict=ref$.getkey_dictdict,getdict_for_key_dictdict=ref$.getdict_for_key_dictdict,getdict_for_key2_dictdict=ref$.getdict_for_key2_dictdict,getCollection=ref$.getCollection,setkey_dict=ref$.setkey_dict,getkey_dict=ref$.getkey_dict,url_to_domain=__webpack_require__("./src/libs_common/domain_utils.ls").url_to_domain,get_days_since_epoch=__webpack_require__("./src/libs_common/time_utils.ls").get_days_since_epoch,get_session_id=__webpack_require__("./src/libs_common/intervention_info.ls").get_session_id,ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.get_seconds_spent_on_all_domains_today=get_seconds_spent_on_all_domains_today=async function(){return await getdict_for_key2_dictdict("seconds_on_domain_per_day",get_days_since_epoch())},out$.get_seconds_spent_on_all_domains_days_before_today=get_seconds_spent_on_all_domains_days_before_today=async function(t){return await getdict_for_key2_dictdict("seconds_on_domain_per_day",get_days_since_epoch()-t)},out$.get_seconds_spent_on_domain_all_days=get_seconds_spent_on_domain_all_days=async function(t){var e,o,n,s,i;for(s in e=await getdict_for_key_dictdict("seconds_on_domain_per_day",t),o=get_days_since_epoch(),n={},e)i=e[s],n[o-s]=i;return n},out$.get_seconds_spent_on_domain_days_before_today=get_seconds_spent_on_domain_days_before_today=async function(t,e){var o,n;return o=get_days_since_epoch(),null!=(n=await getkey_dictdict("seconds_on_domain_per_day",t,o-e))?n:0},out$.get_seconds_spent_on_domain_today=get_seconds_spent_on_domain_today=async function(t){var e,o;return e=get_days_since_epoch(),null!=(o=await getkey_dictdict("seconds_on_domain_per_day",t,e))?o:0},out$.get_minutes_spent_on_domain_today=get_minutes_spent_on_domain_today=async function(t){var e,o;return e=get_days_since_epoch(),null!=(o=await getkey_dictdict("seconds_on_domain_per_day",t,e))?Math.floor(o/60):0},out$.get_seconds_spent_on_current_domain_today=get_seconds_spent_on_current_domain_today=async function(){var t,e;return t=window.location.host,null!=(e=await get_seconds_spent_on_domain_today(t))?e:0},out$.get_visits_to_domain_today=get_visits_to_domain_today=async function(t){var e,o;return e=get_days_since_epoch(),null!=(o=await getkey_dictdict("visits_to_domain_per_day",t,e))?o:0},out$.get_visits_to_domain_days_before_today=get_visits_to_domain_days_before_today=async function(t,e){var o,n;return o=get_days_since_epoch(),null!=(n=await getkey_dictdict("visits_to_domain_per_day",t,o-e))?n:0},out$.get_visits_to_current_domain_today=get_visits_to_current_domain_today=async function(){var t,e;return t=window.location.host,null!=(e=await get_visits_to_domain_today(t))?e:0},out$.get_new_session_id_for_domain=get_new_session_id_for_domain=async function(t){var e;return null==(e=await getkey_dict("domain_to_last_session_id",t))?(await setkey_dict("domain_to_last_session_id",t,0),0):(await setkey_dict("domain_to_last_session_id",t,e+1),e+1)},out$.get_seconds_spent_on_current_domain_in_session=get_seconds_spent_on_current_domain_in_session=async function(t){var e,o;return e=window.location.host,null!=(o=await get_seconds_spent_on_domain_in_session(e,t))?o:0},out$.get_seconds_spent_on_domain_in_session=get_seconds_spent_on_domain_in_session=async function(t,e){var o;return null!=(o=await getkey_dictdict("seconds_on_domain_per_session",t,e))?o:0},out$.get_seconds_spent_on_current_domain_in_current_session=get_seconds_spent_on_current_domain_in_current_session=async function(){var t,e,o;return t=get_session_id(),e=window.location.host,null!=(o=await get_seconds_spent_on_domain_in_session(e,t))?o:0},gexport_module("time_spent_utils",function(it){return eval(it)})},"./src/libs_common/time_utils.ls":function(module,exports,__webpack_require__){var moment,ref$,gexport,gexport_module,get_days_since_epoch,pad_to_two_digits,printable_time_spent_short,printable_time_spent,printable_time_spent_long,out$=exports||this;moment=__webpack_require__("./node_modules/moment/moment.js"),ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.get_days_since_epoch=get_days_since_epoch=function(){var t;return t=moment().year(2016).month(0).date(1).hours(0).minutes(0).seconds(0).milliseconds(0),moment().diff(t,"days")},pad_to_two_digits=function(t){var e;return 1===(e=t.toString()).length?"0"+e:e},out$.printable_time_spent_short=printable_time_spent_short=function(t){var e;return t<0?"00:00":(e=Math.floor(t/60))+":"+pad_to_two_digits(t-=60*e)},out$.printable_time_spent=printable_time_spent=function(t){return t<60?t+" seconds":moment().add(t,"seconds").fromNow(!0)},out$.printable_time_spent_long=printable_time_spent_long=function(t){var e,o,n,s;return t<0?"0 seconds":(o=t-3600*(e=Math.floor(t/3600)),o-=60*(n=Math.floor(o/60)),s=[],e>0&&(1===e?s.push("1 hour"):s.push(e+" hours")),(n>0||e>0)&&(1===n?s.push("1 minute"):s.push(n+" minutes")),1===o?s.push("1 second"):o>=0&&s.push(o+" seconds"),s.join(" "))},gexport_module("time_utils",function(it){return eval(it)})}}]);