window.lazuli_content_script = true;

(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"./src/components/netflix-stop-autoplay.deps.js":function(e,t,o){const{import_dom_modules:n}=o("./src/libs_frontend/dom_utils.ls");o("./src/bower_components/polymer/polymer.deps.js"),o("./src/bower_components/paper-item/paper-item.deps.js"),o("./src/components/lazuli-logo-v2.deps.js"),o("./src/components/goal-progress-message.deps.js"),o("./src/bower_components/lazuli-paper-button/lazuli-paper-button.deps.js"),o("./src/bower_components/paper-dialog/paper-dialog.deps.js"),o("./src/bower_components/paper-time-picker/paper-time-picker.deps.js"),o("./src/bower_components/paper-progress/paper-progress.deps.js"),o("./src/components/call-to-action-button.deps.js"),o("./src/components/time-selector-dialog.deps.js"),n(o("./src/components/netflix-stop-autoplay.html"),"components/netflix-stop-autoplay.html"),o("./src/components/netflix-stop-autoplay.js")},"./src/components/netflix-stop-autoplay.html":function(e,t){e.exports='<link rel=import href=../bower_components/polymer/polymer.html> <link rel=import href=../bower_components/paper-item/paper-item.html> <link rel=import href=lazuli-logo-v2.html> <link rel=import href=goal-progress-message.html> <link rel=import href=../bower_components/lazuli-paper-button/lazuli-paper-button.html> <link rel=import href=../bower_components/paper-dialog/paper-dialog.html> <link rel=import href=../bower_components/paper-time-picker/paper-time-picker.html> <link rel=import href=../bower_components/paper-progress/paper-progress.html> <link rel=import href=call-to-action-button.html> <link rel=import href=time-selector-dialog.html> <lazuli-dom-module id=netflix-stop-autoplay> <template> <custom-style> <style is=custom-style>:host{position:fixed;display:block;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);z-index:35000000;font-family:Verdana,Geneva,Tahoma,HelveticaNeue-Light,"Helvetica Neue Light","Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif;font-size:12px;--paper-input-container-input:{font-size:28px;text-indent:20px};}.contentContainer{width:100%;margin-top:30px;align-self:center}.titleText{font-size:1.5em;text-align:center}#messagetext{font-size:1.3em;text-align:center}.whiteDiv{position:fixed;display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0);opacity:1;z-index:35000000}.okButton{cursor:pointer;padding:5px;background-color:#415d67;color:#fff;font-size:14px;box-shadow:2px 2px 2px #888}.closeTabButton{cursor:pointer;padding:5px;margin-top:10px;margin-bottom:10px;font-size:14px}.message-block{padding-top:10px;font-size:30px;align-self:center}#paperprogress{display:none;margin-bottom:10px}#title{padding-top:0;padding-bottom:0;margin:auto;margin-top:10px;margin-bottom:0;color:#fff;font-size:30px;font-family:Verdana,Geneva,Tahoma,HelveticaNeue-Light,"Helvetica Neue Light","Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif}#time{padding-top:0;padding-bottom:0;color:#000;font-size:40px;font-family:"Lucidia Grande",HelveticaNeue-Light,sans-serif}#fact-box{background-color:rgba(149,203,238,.95);margin:auto;margin-top:50px;margin-right:350px;margin-left:350px;padding:2px}#link{font-size:12px;font-family:Verdana,Geneva,Tahoma,HelveticaNeue-Light,"Helvetica Neue Light","Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif}#block_container{text-align:center}#min,#playings,#spent,#today,#watching{display:inline}</style> </custom-style> <div class=whiteDiv> <template is=dom-if if={{show_netflix_message}}> <netflix-articles class=message-block></netflix-articles> </template> <div id=fact-box> <center> <p id=title>Lazuli desativou a reprodução automática. </p> </center> <div id=block_container style=margin:auto;margin-top:5px;margin-bottom:5px> <div id=today class=timer-text style=text-align:left;color:#415d67;font-size:20px>Hoje em</div> <div id=playings style=display:inline-block;margin-right:5px;margin-left:5px;color:#415d67> <div style=font-size:40px>{{playings}}</div> <div>Jogando</div> </div> <div id=spent class=timer-text style=color:#415d67;font-size:20px> Você gostou </div> <div id=min style=display:inline-block;margin-right:5px;margin-left:5px;color:#415d67> <div style=font-size:40px>{{minutes}}</div> <div>mins</div> </div> <div id=watching class=timer-text style=text-align:left;color:#415d67;font-size:20px> assistir. </div> </div> <div style=width:200px;height:48px;text-align:center;margin:auto;margin:auto;margin-bottom:15px;margin-top:15px;padding-top:10px;padding-bottom:18px;color:#415d67;background-color:rgba(255,255,255,.8);border-radius:8px;padding-left:9px;padding-right:9px;padding-bottom:2px;font-size:28px id=time_display></div> <center> <lazuli-paper-button id=okbutton class=okButton on-click=buttonclicked> Continuar assistindo </lazuli-paper-button> </center> <div style=display:flex;flex-direction:row;justify-content:space-between;align-items:center;align-content:center;height:35px;width:100%;margin:auto;margin-top:20px;margin-bottom:0> <lazuli-logo-v2 style=padding-left:5px;padding-top:9px id=logo></lazuli-logo-v2> <center> <call-to-action-button id=closetabbutton class=closeTabButton></call-to-action-button> </center> <img style=width:33px;padding-left:72px;padding-right:5px;padding-top:15px src={{logo_url}}> </div> <p></p> </div> <p></p> </div> </template> <script src=netflix-stop-autoplay.js><\/script> </lazuli-dom-module>'},"./src/components/netflix-stop-autoplay.js":function(e,t,o){const n=o("./node_modules/jquery/dist/jquery.js"),i=o("./node_modules/moment/moment.js"),{polymer_ext:s}=o("./src/libs_frontend/polymer_utils.ls"),{close_selected_tab:r}=o("./src/generated_libs/libs_frontend/tab_utils.js"),{url_to_domain:_}=o("./src/libs_common/domain_utils.ls"),{get_minutes_spent_on_domain_today:a,get_visits_to_domain_today:p}=o("./src/libs_common/time_spent_utils.ls"),{log_action:d}=o("./src/libs_frontend/intervention_log_utils.ls"),{start_episode_tracker:l,get_num_episodes_watched:c}=o("./src/libs_frontend/netflix_utils.js");Polymer({is:"netflix-stop-autoplay",properties:{btnTxt:{type:String},btnTxt2:{type:String},minutes:{type:Number},titleText:{type:String},playings:{type:Number},intervention:{type:String},messageText:{type:String},randomizer:{type:Boolean,value:0==Math.floor(2*Math.random())},exit_url:{type:String,value:chrome.runtime.getURL("interventions/netflix/stop_autoplay/exit.png")},logo_url:{type:String,value:chrome.runtime.getURL("interventions/netflix/stop_autoplay/logo.png")},alarm_image_url:{type:String,value:chrome.runtime.getURL("interventions/netflix/stop_autoplay/alarm_clock.png")},show_netflix_message:{type:Boolean,computed:"compute_show_workpages_message(show_progress_message, randomizer)"},show_rss_message:{type:Boolean,computed:"compute_show_rss_message(show_progress_message, randomizer)"},show_progress_message:{type:Boolean,value:!1},show_workpages_message:{type:Boolean,computed:"compute_show_workpages_message(show_progress_message, randomizer)"}},listeners:{disable_intervention:"disableIntervention",show_button:"showButton"},compute_show_rss_message:function(e,t){return!e&&t},compute_show_workpages_message:function(e,t){return!e&&!t},show_time_selector:function(){let e=document.createElement("time-selector-dialog");document.body.appendChild(e),e.show()},buttonclicked:function(){console.log("ok button clicked in polymer during loading"),d({negative:"Continuted to site."}),console.log("video should continue"),document.querySelector("video").play(),n(this).remove()},hideButton:function(){this.$.okbutton.hidden=!0,this.$.okbutton.style.display="none"},showProgress:function(){this.$.paperprogress.style.display="block"},incrementProgress:function(){this.$.paperprogress.value+=1},showButton:function(){this.$.okbutton.hidden=!1,this.$.okbutton.style.display="inline-flex",this.$.closetabbutton.style.display="inline-flex"},ready:async function(){this.$.closetabbutton.text=this.btnTxt2,this.$.time_display.innerText=i().format("hh:mm A");let e=_(window.location.href);this.minutes=await a(e),l(),this.playings=c()},disableIntervention:function(){n(this).remove()},attributeChanged:function(){this.$.okbutton.textContent=this.btnTxt,this.$.closetabbutton.text=this.btnTxt2,this.$.messagetext.textContent=this.messageText,this.$.titletext.textContent=this.titleText}})},"./src/components/time-selector-dialog.deps.js":function(e,t,o){const{import_dom_modules:n}=o("./src/libs_frontend/dom_utils.ls");o("./src/bower_components/polymer/polymer.deps.js"),o("./src/bower_components/paper-item/paper-item.deps.js"),o("./src/components/goal-progress-message.deps.js"),o("./src/bower_components/lazuli-paper-button/lazuli-paper-button.deps.js"),o("./src/bower_components/paper-dialog/paper-dialog.deps.js"),o("./src/bower_components/paper-time-picker/paper-time-picker.deps.js"),o("./src/bower_components/paper-progress/paper-progress.deps.js"),o("./src/components/call-to-action-button.deps.js"),n(o("./src/components/time-selector-dialog.html"),"components/time-selector-dialog.html"),o("./src/components/time-selector-dialog.js")},"./src/components/time-selector-dialog.html":function(e,t){e.exports='<link rel=import href=../bower_components/polymer/polymer.html> <link rel=import href=../bower_components/paper-item/paper-item.html> <link rel=import href=goal-progress-message.html> <link rel=import href=../bower_components/lazuli-paper-button/lazuli-paper-button.html> <link rel=import href=../bower_components/paper-dialog/paper-dialog.html> <link rel=import href=../bower_components/paper-time-picker/paper-time-picker.html> <link rel=import href=../bower_components/paper-progress/paper-progress.html> <link rel=import href=call-to-action-button.html> <lazuli-dom-module id=time-selector-dialog> <template> <paper-dialog id=start-dialog class=paper-time-picker-dialog modal on-iron-overlay-closed=dismiss_dialog> <paper-time-picker id=start-picker time="9:00 AM"></paper-time-picker> <div class=buttons> <lazuli-paper-button dialog-dismiss>CANCELAR</lazuli-paper-button> <lazuli-paper-button dialog-confirm>OK</lazuli-paper-button> </div> </paper-dialog> </template> <script src=time-selector-dialog.js><\/script> </lazuli-dom-module>'},"./src/components/time-selector-dialog.js":function(e,t){Polymer({is:"time-selector-dialog",properties:{},show:function(){this.$$("#start-dialog").toggle(),this.$$("#start-dialog").style.zIndex=999999999999}})},"./src/generated_libs/libs_frontend/db_utils.js":function(e,t,o){const{import_lib:n}=o("./src/libs_frontend/import_lib.ls");e.exports=n("db_utils")},"./src/libs_common/time_spent_utils.ls":function(module,exports,__webpack_require__){var moment,prelude,ref$,getkey_dictdict,getdict_for_key_dictdict,getdict_for_key2_dictdict,getCollection,setkey_dict,getkey_dict,url_to_domain,get_days_since_epoch,get_session_id,gexport,gexport_module,get_seconds_spent_on_all_domains_today,get_seconds_spent_on_all_domains_days_before_today,get_seconds_spent_on_domain_all_days,get_seconds_spent_on_domain_days_before_today,get_seconds_spent_on_domain_today,get_minutes_spent_on_domain_today,get_seconds_spent_on_current_domain_today,get_visits_to_domain_today,get_visits_to_domain_days_before_today,get_visits_to_current_domain_today,get_new_session_id_for_domain,get_seconds_spent_on_current_domain_in_session,get_seconds_spent_on_domain_in_session,get_seconds_spent_on_current_domain_in_current_session,out$=exports||this;moment=__webpack_require__("./node_modules/moment/moment.js"),prelude=__webpack_require__("./node_modules/prelude-ls/lib/index.js"),ref$=__webpack_require__("./src/generated_libs/libs_frontend/db_utils.js"),getkey_dictdict=ref$.getkey_dictdict,getdict_for_key_dictdict=ref$.getdict_for_key_dictdict,getdict_for_key2_dictdict=ref$.getdict_for_key2_dictdict,getCollection=ref$.getCollection,setkey_dict=ref$.setkey_dict,getkey_dict=ref$.getkey_dict,url_to_domain=__webpack_require__("./src/libs_common/domain_utils.ls").url_to_domain,get_days_since_epoch=__webpack_require__("./src/libs_common/time_utils.ls").get_days_since_epoch,get_session_id=__webpack_require__("./src/libs_common/intervention_info.ls").get_session_id,ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.get_seconds_spent_on_all_domains_today=get_seconds_spent_on_all_domains_today=async function(){return await getdict_for_key2_dictdict("seconds_on_domain_per_day",get_days_since_epoch())},out$.get_seconds_spent_on_all_domains_days_before_today=get_seconds_spent_on_all_domains_days_before_today=async function(e){return await getdict_for_key2_dictdict("seconds_on_domain_per_day",get_days_since_epoch()-e)},out$.get_seconds_spent_on_domain_all_days=get_seconds_spent_on_domain_all_days=async function(e){var t,o,n,i,s;for(i in t=await getdict_for_key_dictdict("seconds_on_domain_per_day",e),o=get_days_since_epoch(),n={},t)s=t[i],n[o-i]=s;return n},out$.get_seconds_spent_on_domain_days_before_today=get_seconds_spent_on_domain_days_before_today=async function(e,t){var o,n;return o=get_days_since_epoch(),null!=(n=await getkey_dictdict("seconds_on_domain_per_day",e,o-t))?n:0},out$.get_seconds_spent_on_domain_today=get_seconds_spent_on_domain_today=async function(e){var t,o;return t=get_days_since_epoch(),null!=(o=await getkey_dictdict("seconds_on_domain_per_day",e,t))?o:0},out$.get_minutes_spent_on_domain_today=get_minutes_spent_on_domain_today=async function(e){var t,o;return t=get_days_since_epoch(),null!=(o=await getkey_dictdict("seconds_on_domain_per_day",e,t))?Math.floor(o/60):0},out$.get_seconds_spent_on_current_domain_today=get_seconds_spent_on_current_domain_today=async function(){var e,t;return e=window.location.host,null!=(t=await get_seconds_spent_on_domain_today(e))?t:0},out$.get_visits_to_domain_today=get_visits_to_domain_today=async function(e){var t,o;return t=get_days_since_epoch(),null!=(o=await getkey_dictdict("visits_to_domain_per_day",e,t))?o:0},out$.get_visits_to_domain_days_before_today=get_visits_to_domain_days_before_today=async function(e,t){var o,n;return o=get_days_since_epoch(),null!=(n=await getkey_dictdict("visits_to_domain_per_day",e,o-t))?n:0},out$.get_visits_to_current_domain_today=get_visits_to_current_domain_today=async function(){var e,t;return e=window.location.host,null!=(t=await get_visits_to_domain_today(e))?t:0},out$.get_new_session_id_for_domain=get_new_session_id_for_domain=async function(e){var t;return null==(t=await getkey_dict("domain_to_last_session_id",e))?(await setkey_dict("domain_to_last_session_id",e,0),0):(await setkey_dict("domain_to_last_session_id",e,t+1),t+1)},out$.get_seconds_spent_on_current_domain_in_session=get_seconds_spent_on_current_domain_in_session=async function(e){var t,o;return t=window.location.host,null!=(o=await get_seconds_spent_on_domain_in_session(t,e))?o:0},out$.get_seconds_spent_on_domain_in_session=get_seconds_spent_on_domain_in_session=async function(e,t){var o;return null!=(o=await getkey_dictdict("seconds_on_domain_per_session",e,t))?o:0},out$.get_seconds_spent_on_current_domain_in_current_session=get_seconds_spent_on_current_domain_in_current_session=async function(){var e,t,o;return e=get_session_id(),t=window.location.host,null!=(o=await get_seconds_spent_on_domain_in_session(t,e))?o:0},gexport_module("time_spent_utils",function(it){return eval(it)})},"./src/libs_common/time_utils.ls":function(module,exports,__webpack_require__){var moment,ref$,gexport,gexport_module,get_days_since_epoch,pad_to_two_digits,printable_time_spent_short,printable_time_spent,printable_time_spent_long,out$=exports||this;moment=__webpack_require__("./node_modules/moment/moment.js"),ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.get_days_since_epoch=get_days_since_epoch=function(){var e;return e=moment().year(2016).month(0).date(1).hours(0).minutes(0).seconds(0).milliseconds(0),moment().diff(e,"days")},pad_to_two_digits=function(e){var t;return 1===(t=e.toString()).length?"0"+t:t},out$.printable_time_spent_short=printable_time_spent_short=function(e){var t;return e<0?"00:00":(t=Math.floor(e/60))+":"+pad_to_two_digits(e-=60*t)},out$.printable_time_spent=printable_time_spent=function(e){return e<60?e+" seconds":moment().add(e,"seconds").fromNow(!0)},out$.printable_time_spent_long=printable_time_spent_long=function(e){var t,o,n,i;return e<0?"0 seconds":(o=e-3600*(t=Math.floor(e/3600)),o-=60*(n=Math.floor(o/60)),i=[],t>0&&(1===t?i.push("1 hour"):i.push(t+" hours")),(n>0||t>0)&&(1===n?i.push("1 minute"):i.push(n+" minutes")),1===o?i.push("1 second"):o>=0&&i.push(o+" seconds"),i.join(" "))},gexport_module("time_utils",function(it){return eval(it)})},"./src/libs_frontend/netflix_utils.js":function(e,t){var o=0,n="",i=null;e.exports={start_episode_tracker:function(){function e(){if(window.location.pathname.includes("/watch/")){var e=window.location.pathname.replace("/watch/","");n!=e&&(o++,n=e)}}null==i&&(e(),i=setInterval(e,1e3))},stop_episode_tracker:function(){clearInterval(i)},get_num_episodes_watched:function(){return o}}}}]);