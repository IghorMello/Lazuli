<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-ripple/paper-ripple.html">
<link rel="import" href="../bower_components/paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="../bower_components/paper-radio-button/paper-radio-button.html">
<link rel="import" href="../bower_components/paper-radio-group/paper-radio-group.html">
<link rel="import" href="../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../bower_components/paper-time-picker/paper-time-picker.html">
<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="pill-button-group.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="lazuli-logo-v2.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="initial-goal-selector.html">
<link rel="import" href="positive-goal-selector.html">
<link rel="import" href="privacy-options.html">
<link rel="import" href="misc-options.html">
<link rel="import" href="update-check.html">
<link rel="import" href="advanced-features.html">
<link rel="import" href="sync-view.html">
<link rel="import" href="idea-generation-panel.html">

<dom-module id="options-interventions">
  <template>
    <custom-style>
      <style is="custom-style">
        :host {
          display: block;
          overflow-x: hidden;
          width: 100%;
          height: 100%;
          min-height: 100vh;
          background-color: rgb(81, 167, 249);
          font-family: Verdana, Geneva, Tahoma, "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;

          --paper-item: {
            min-height: 36px;
          }

          ;

          --paper-radio-button: {
            color: rgb(35, 70, 110);
            --paper-radio-button-checked-color: rgb(35, 70, 110);
            --paper-radio-button-checked-ink-color: rgb(35, 70, 110);
            --paper-radio-button-unchecked-color: rgb(35, 70, 110);
            --paper-radio-button-unchecked-ink-color: rgb(35, 70, 110);
            --paper-radio-button-label-color: rgb(35, 70, 110);
          }

          --paper-input-container: {
            padding-top: 0px;
            padding-bottom: 0px;
          }

          ;

          --paper-card: {
            elevation: 5;
            padding: 10px;
            margin-bottom: 1px;
            width: 100%;
            font-weight: 400;
            padding: 0px;

          }

          ;

          --paper-card-content: {
            font-size: 16px;
          }

          --paper-radio-group: {
            padding-top: 0px;
            padding-left: 0px;
          }

          ;

        }

        #goals-button {
          display: none;
        }

        .next-button {
          color: white;
          background-color: #415D67;
          margin-left: 16px;
          margin-bottom: 8px;
          padding: 5px;
          font-size: 16px;
          text-transform: none;
          -webkit-font-smoothing: subpixel-antialiased;
        }

        .works-button {
          color: white;
          background-color: #415D67;
          margin-left: 16px;
          margin-bottom: 8px;
          padding: 5px;
          font-size: 16px;
          text-transform: none;
          -webkit-font-smoothing: subpixel-antialiased;
        }

        #timepicker {
          margin-bottom: 16px;
        }

        #intro1 {
          display: none;
        }

        .time-string {
          font-family: Verdana, Geneva, Tahoma, "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
          font-size: 14px;
        }

        .timebox {
          border: 1px solid white;
          padding: 4px;
          margin: 3px;
          cursor: pointer;
          color: #777777;
        }

        .card-container {
          text-align: center;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          background-color: rgb(81, 167, 249);
          font-family: Verdana, Geneva, Tahoma, "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
          color: white;
          padding-top: 10px;
        }

        .card-content {
          color: white;
          font-family: Verdana, Geneva, Tahoma, "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
          font-size: 20px;
        }

        .radio-button {
          color: rgb(35, 70, 110);
          --paper-radio-button-label-color: rgb(35, 70, 110);
        }

        .radio-group {
          padding-left: 0px;
          color: white;
        }

        #title {
          color: white;
          font-family: Verdana, Geneva, Tahoma, "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
          font-size: 30px;
          padding-top: 30px;
          padding-bottom: 20px;
          text-align: center;
          font-weight: 400;
          /*text-shadow: 1px 1px 2px #346da3; */
        }

        #iconimg {
          padding-left: 1px;
          padding-right: 4px;
          top: 3px;
          position: relative;
        }

        lazuli-logo {
          display: inline-block;
          position: relative;
          top: 15px;
          padding-left: 3px;
          padding-right: 3px;
        }

        #pointer-div {
          background: red;
          color: white;
          font-size: 20px;
          margin: 5px;
          padding: 15px;
          right: 3px;
          position: fixed;
          top: 0px;
          border-radius: 5px
        }

        .papercard {
          width: 100%;
          /* margin-left: 20px;
          margin-right: 20px; */
          background-color: rgb(81, 167, 249);
          color: white;
        }

        .intro {
          width: 100%;
        }

        .days-container {
          display: block;
        }

        .dayicon {
          cursor: pointer;
          width: 40px;
          height: 40px;
          margin: auto;
          margin-top: 10px;
          margin-left: 5px;
          margin-right: 5px;
          margin-bottom: 10px;
          border-radius: 10px;
          padding: 8px;
          box-shadow: 0px 0px 5px #346da3;
          padding: 5px;
          cursor: pointer;
        }

        .dayiconactive {
          background-color: rgb(35, 70, 110);
        }

        .dayiconinactive {
          background-color: transparent;
        }

        #disabled {
          background-color: transparent;
        }

        #enabled {
          background-color: rgb(35, 70, 110);
        }

        #day {
          background-color: rgb(35, 70, 110);
        }

        #survey_button {
          display: none;
          max-height: 70 px;
          margin: auto;
          font-size: 20px;
          color: white;
          background-color: red;
          disabled: true;
        }
      </style>
    </custom-style>

    <div class="card-container">
      <div id="intro1" class="intro" style="display: none;">
        <paper-card id="title" style="color:white" class="papercard">
          <paper-card id="surveycard" style="display: none; color:white; padding-bottom: 10px" class="papercard">
            <div> Pesquisas de estudo </div>

            <div class="card-content" style="padding-bottom: 10px">
              Pesquisas opcionais para pesquisa acadêmica serão mostradas
              aqui se disponível.
            </div>

            <paper-button class="paperbuttons" raised id="survey_button" on-click="survey_button_clicked">
            </paper-button>
          </paper-card>

          <div style="padding-top: 10px">
            Quando os alertas devem estar ativos??
          </div>

          <div class="card-content">
            Você pode definir os estímulos para estarem sempre ativados ou ativos apenas durante o horário de trabalho.

            <br>

            <paper-radio-group class="radio-group" selected="{{determine_selected(always_active)}}"
              on-change="toggle_timepicker">
              <paper-radio-button class="radio-button" name="always">Sempre</paper-radio-button>
              <paper-radio-button class="radio-button" name="workday">Apenas Horário de Trabalho</paper-radio-button>
            </paper-radio-group>

            <template is="dom-if" if="{{!always_active}}">
              <div class="days-container">
                <template is="dom-repeat" items="{{days}}" as="weekday" index-as="dayidx">
                  <div style="display: inline-block">
                    <div style="position: relative; top:20px; left:5px; pointer-events: none">
                      <div style="position:absolute">
                        <div style="width:30px;cursor: pointer; padding-left:0px;margin-left:10px;margin-top:0px;">
                          {{weekday}}</div>
                      </div>
                    </div>

                    <div
                      class$="dayicon weekdays {{text_if_elem_in_array(dayidx, activedaysarray, 'dayiconactive')}} {{text_if_elem_not_in_array(dayidx, activedaysarray, 'dayiconinactive')}}"
                      isdayenabled="{{is_active_for_day_idx(dayidx, activedaysarray)}}" data-day="{{dayidx}}"
                      on-click="change_intervention_activeness"></div>
                  </div>
                </template>
              </div>

              <div id="timepicker">
                <span class="time-string">As intervenções são ativas apenas entre</span>
                <span class="time-string timebox" id="start-time" on-tap="show_dialog"
                  style="color: black">{{start_time_string}}</span>
                <span class="time-string"> e </span>
                <span class="time-string timebox" id="end-time" on-tap="show_dialog"
                  style="color: black">{{end_time_string}}</span>

                <paper-dialog id="start-dialog" class="paper-time-picker-dialog" modal
                  on-iron-overlay-closed="dismiss_dialog">
                  <paper-time-picker id="start-picker" time="[[start_time_string]]"></paper-time-picker>
                  <div class="buttons">
                    <paper-button dialog-dismiss>CANCELAR</paper-button>
                    <paper-button dialog-confirm>OK</paper-button>
                  </div>
                </paper-dialog>

                <paper-dialog id="end-dialog" class="paper-time-picker-dialog" modal
                  on-iron-overlay-closed="dismiss_dialog">
                  <paper-time-picker id="end-picker" time="[[end_time_string]]"></paper-time-picker>

                  <div class="buttons">
                    <paper-button dialog-dismiss>CANCELAR</paper-button>
                    <paper-button dialog-confirm>OK</paper-button>
                  </div>
                </paper-dialog>
              </div>
            </template>
          </div>
        </paper-card>
      </div>

      <paper-card class="papercard" heading="{{title_text}}">
        <initial-goal-selector id="goal_selector" />
        <paper-button id="goals-button" class="next-button" on-click="goals_set">PRÓXIMO</paper-button>
      </paper-card>

      <template is="dom-if" if="{{!positive_goals_disabled}}">
        <paper-card class="papercard" heading="{{title_text}}">
          <positive-goal-selector id="positive_goal_selector" />
          <paper-button id="positive-goals-button" class="next-button" on-click="goals_set">PRÓXIMO</paper-button>
        </paper-card>
      </template>

      <template is="dom-if" if="{{!sync_enabled}}" class="intro" style="display: none">
        <paper-card style="color:white" class="papercard">
          <div style="color:white; padding-top: 30px; padding-bottom: 16px; font-size: 30px">
            Cadastrar ficha médica do usuário
          </div>
          <sync-view id="sync_data"></sync-view>
        </paper-card>
      </template>

      <div id="intro8" class="intro" style="display: none;">
        <paper-card style="color:white;" class="papercard">
          <idea-generation-panel id="idea_generation"></idea-generation-panel>
        </paper-card>
      </div>

      <div id="intro7" class="intro" style="display: none;">
        <paper-card style="color:white;" class="papercard">
          <div style="color: white; padding-top: 30px; padding-bottom: 16px; font-size: 30px">
            Criar e editar alertas
          </div>
          <advanced-features id="advanced_features"></advanced-features>
        </paper-card>
      </div>

      <div id="intro9" class="intro" style="display: none;">
        <paper-card style="color:white;" class="papercard">
          <div style="color: white; padding-top: 30px; padding-bottom: 16px; font-size: 30px">
            Opções diversas
          </div>
          <misc-options id="misc_options"></misc-options>
        </paper-card>
      </div>

      <div id="intro6" class="intro" style="display: none;">
        <paper-card style="color:white;" class="papercard">
          <div style="color: white; padding-top: 30px; padding-bottom: 16px; font-size: 30px">Atualizações Lazuli</div>
          <update-check id="lazuli_updates"></update-check>
        </paper-card>
      </div>

      <div id="intro5" class="intro" style="display: none;">
        <paper-card style="color:white;" class="papercard">
          <div style="color: white; padding-top: 30px; padding-bottom: 16px; font-size: 30px">
            Registro e privacidade
          </div>
          <privacy-options id="privacy_options"></privacy-options>
        </paper-card>
      </div>
    </div>
  </template>
  <script src="options-interventions.js"></script>
</dom-module>