#!/usr/bin/env node
// Generated by LiveScript 1.5.0
(function () {
  var fs, path, process, copySync, exec, lazuli_dir;
  fs = require('fs');
  path = require('path');
  process = require('process');
  copySync = require('fs-extra').copySync;
  exec = require('shelljs').exec;
  exec('scripts/make_docs');
  lazuli_dir = process.cwd();
  if (fs.existsSync('../lazuli.wiki')) {
    process.chdir('../lazuli.wiki');
  } else {
    process.chdir('..');
    exec('git clone git@github.com:lazuli/lazuli.wiki.git');
    process.chdir('lazuli.wiki');
  }
  exec('git reset --hard');
  exec('git pull origin master');
  copySync(path.join(lazuli_dir, 'doc', 'API.md'), 'API.md');
  exec('git add API.md');
  exec('git commit -m "updated API.md"');
  exec('git push origin master');
  process.chdir(lazuli_dir);
  exec('netlify deploy -p doc');
}).call(this);
